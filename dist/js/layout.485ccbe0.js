(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout"],{"080b":function(r,n,e){"use strict";var i=e("47a6"),t=e.n(i);t.a},1148:function(r,n,e){"use strict";var i=e("a691"),t=e("1d80");r.exports="".repeat||function(r){var n=String(t(this)),e="",u=i(r);if(u<0||u==1/0)throw RangeError("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(n+=n))1&u&&(e+=n);return e}},"408a":function(r,n,e){var i=e("c6b6");r.exports=function(r){if("number"!=typeof r&&"Number"!=i(r))throw TypeError("Incorrect invocation");return+r}},"47a6":function(r,n,e){},"7abe":function(r,n,e){"use strict";e.r(n);var i=function(){var r=this,n=r.$createElement,e=r._self._c||n;return e("div",{class:r.bem()},[e("div",{directives:[{name:"show",rawName:"v-show",value:!r.isRun,expression:"!isRun"}],class:r.bem("inputs")},[e("div",[e("div",[r._v("图片地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.src,expression:"src"}],attrs:{placeholder:"图片地址(必填)"},domProps:{value:r.src},on:{input:function(n){n.target.composing||(r.src=n.target.value)}}})]),e("div",[e("div",[r._v("背景地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.bgSrc,expression:"bgSrc"}],attrs:{placeholder:"背景地址(必填)"},domProps:{value:r.bgSrc},on:{input:function(n){n.target.composing||(r.bgSrc=n.target.value)}}})]),e("div",[e("div",[r._v("图片宽")]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.imgWidth,expression:"imgWidth"}],attrs:{placeholder:"图片宽(不填使用原图宽)"},domProps:{value:r.imgWidth},on:{input:function(n){n.target.composing||(r.imgWidth=n.target.value)}}})]),e("div",[e("div",[r._v("图片高")]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.imgHeight,expression:"imgHeight"}],attrs:{placeholder:"图片高(不填使用原图高)"},domProps:{value:r.imgHeight},on:{input:function(n){n.target.composing||(r.imgHeight=n.target.value)}}})]),e("div",[e("div",[r._v("背景图片宽")]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.bgWidth,expression:"bgWidth"}],attrs:{placeholder:"背景图片宽(不填使用原图宽)"},domProps:{value:r.bgWidth},on:{input:function(n){n.target.composing||(r.bgWidth=n.target.value)}}})]),e("div",[e("div",[r._v("背景图片高")]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.bgHeight,expression:"bgHeight"}],attrs:{placeholder:"背景图片高(不填使用原图高)"},domProps:{value:r.bgHeight},on:{input:function(n){n.target.composing||(r.bgHeight=n.target.value)}}})]),e("button",{on:{click:r.run}},[r._v("开始")])]),e("div",{class:r.bem("matrix",{hide:!r.isRun})},[e("Matrix",{ref:"matrix",style:{width:"300px"},attrs:{src:r.src,bgSrc:r.bgSrc,imgWidth:r.imgWidth,imgHeight:r.imgHeight,bgWidth:r.bgWidth,bgHeight:r.bgHeight},on:{update:function(n){return r.matrix=n}}}),e("div",{class:r.bem("result")},[e("div",[r._v(" 采集结果图片样式："),e("br"),r._v(" "+r._s("transform: matrix3d("+r.matrix+");")),e("br"),r._v(" transform-origin: 0 0; ")])])],1)])},t=[],u=function(){var r=this,n=r.$createElement,e=r._self._c||n;return e("div",{class:r.bem(),on:{click:r.click}},[e("div",[r.bgSrc?e("img",{class:r.bem("bg"),style:{width:r.bgWidth+"px",height:r.bgHeight+"px"},attrs:{src:r.bgSrc}}):r._e(),e("img",{directives:[{name:"show",rawName:"v-show",value:!r.start,expression:"!start"}],ref:"img",class:r.bem("img"),style:r.imageStyle,attrs:{src:r.src},on:{load:r.onLoad}})])])},o=[],c=(e("99af"),e("4160"),e("a15b"),e("d81d"),e("b680"),e("159b"),e("cb27")),a=e.n(c),f=5,s={name:"matrix",props:{src:{type:String,required:!0},bgSrc:{type:String,default:""},imgWidth:{type:String,default:""},imgHeight:{type:String,default:""},bgWidth:{type:String,default:""},bgHeight:{type:String,default:""}},data:function(){return{points:[],start:!1,dragPoint:!1,dragPointIndex:null}},computed:{imageStyle:function(){return{transform:"matrix3d(".concat(this.matrix,")"),opacity:this.start?0:1,width:this.imgWidth+"px",height:this.imgHeight+"px"}},matrix:function(){var r=this.imgWidth||this.originImgWidth,n=this.imgHeight||this.originImgHeight;if(this.start)return null;var e=0,i=0,t=0,u=n,o=r,c=0,f=r,s=n,m={};this.points.forEach((function(r,n){var e=r.position;m["u"+n]=e.x,m["v"+n]=e.y}));var h=m.u0,l=m.v0,p=m.u1,d=m.v1,g=m.u2,y=m.v2,v=m.u3,x=m.v3,b=[],w=[h,l,p,d,g,y,v,x],M=[e,i,t,u,o,c,f,s];M.forEach((function(r,n){if(n%2===0){var e=r,i=M[n+1];b.push([e,i,1,0,0,0,-w[n]*e,-w[n]*i])}else{var t=M[n-1],u=r;b.push([0,0,0,t,u,1,-w[n]*t,-w[n]*u])}}));var k=a.a.solve(b,w).map((function(r){return+r.toFixed(6)})),j=[k[0],k[3],0,k[6],k[1],k[4],0,k[7],0,0,1,0,k[2],k[5],0,1];return j.join(", ")}},destroyed:function(){this.clearPoints()},watch:{matrix:function(r){this.$emit("update",r)}},methods:{run:function(){this.start||this.clearPoints(),this.start=!this.start},click:function(r){this.start&&(this.createPoint(r),4===this.points.length&&(this.start=!1))},createPoint:function(r){var n=this,e=document.createElement("div");e.pointIndex=this.points.length,e.addEventListener("mousedown",(function(){n.dragPoint=!0,n.dragPointIndex=e.pointIndex})),document.addEventListener("mousemove",(function(r){if(n.dragPoint&&!n.start){var e=r.layerX,i=r.layerY;n.points[n.dragPointIndex].position={x:e,y:i},n.points[n.dragPointIndex].node.style.transform="translate(".concat(e-f,"px, ").concat(i-f,"px)")}})),document.addEventListener("mouseup",(function(){n.dragPoint&&!n.start&&(n.dragPoint=!1,n.dragPointIndex=null)})),e.className=this.bem("point"),e.style.transform="\n                translate(".concat(r.layerX-f,"px,\n                ").concat(r.layerY-f,"px)"),this.$el.appendChild(e),this.points.push({position:{x:r.layerX,y:r.layerY},node:e})},clearPoints:function(){var r=this;this.points.forEach((function(n){r.$el.removeChild(n.node)})),this.points=[]},onLoad:function(){var r=this.$refs.img;this.originImgWidth=r.offsetWidth,this.originImgHeight=r.offsetHeight}}},m=s,h=(e("080b"),e("2877")),l=Object(h["a"])(m,u,o,!1,null,null,null),p=l.exports,d={name:"home",components:{Matrix:p},data:function(){return{src:"https://st-gdx.dancf.com/gaodingx/0/uxms/design/20200109-161446-a4dd.png?x-oss-process=image/format,webp",bgSrc:"https://st-gdx.dancf.com/assets/20200116-174457-d8ef.png",imgWidth:"",imgHeight:"",bgWidth:"",bgHeight:"",matrix:0,isRun:!1}},methods:{run:function(){this.isRun=!0,this.$refs.matrix.run()}}},g=d,y=(e("958c"),Object(h["a"])(g,i,t,!1,null,null,null));n["default"]=y.exports},"818b":function(r,n,e){},8418:function(r,n,e){"use strict";var i=e("c04e"),t=e("9bf2"),u=e("5c6c");r.exports=function(r,n,e){var o=i(n);o in r?t.f(r,o,u(0,e)):r[o]=e}},"958c":function(r,n,e){"use strict";var i=e("818b"),t=e.n(i);t.a},"99af":function(r,n,e){"use strict";var i=e("23e7"),t=e("d039"),u=e("e8b5"),o=e("861d"),c=e("7b0b"),a=e("50c4"),f=e("8418"),s=e("65f0"),m=e("1dde"),h=e("b622"),l=e("2d00"),p=h("isConcatSpreadable"),d=9007199254740991,g="Maximum allowed index exceeded",y=l>=51||!t((function(){var r=[];return r[p]=!1,r.concat()[0]!==r})),v=m("concat"),x=function(r){if(!o(r))return!1;var n=r[p];return void 0!==n?!!n:u(r)},b=!y||!v;i({target:"Array",proto:!0,forced:b},{concat:function(r){var n,e,i,t,u,o=c(this),m=s(o,0),h=0;for(n=-1,i=arguments.length;n<i;n++)if(u=-1===n?o:arguments[n],x(u)){if(t=a(u.length),h+t>d)throw TypeError(g);for(e=0;e<t;e++,h++)e in u&&f(m,h,u[e])}else{if(h>=d)throw TypeError(g);f(m,h++,u)}return m.length=h,m}})},a15b:function(r,n,e){"use strict";var i=e("23e7"),t=e("44ad"),u=e("fc6a"),o=e("a640"),c=[].join,a=t!=Object,f=o("join",",");i({target:"Array",proto:!0,forced:a||!f},{join:function(r){return c.call(u(this),void 0===r?",":r)}})},b680:function(r,n,e){"use strict";var i=e("23e7"),t=e("a691"),u=e("408a"),o=e("1148"),c=e("d039"),a=1..toFixed,f=Math.floor,s=function(r,n,e){return 0===n?e:n%2===1?s(r,n-1,e*r):s(r*r,n/2,e)},m=function(r){var n=0,e=r;while(e>=4096)n+=12,e/=4096;while(e>=2)n+=1,e/=2;return n},h=a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){a.call({})}));i({target:"Number",proto:!0,forced:h},{toFixed:function(r){var n,e,i,c,a=u(this),h=t(r),l=[0,0,0,0,0,0],p="",d="0",g=function(r,n){var e=-1,i=n;while(++e<6)i+=r*l[e],l[e]=i%1e7,i=f(i/1e7)},y=function(r){var n=6,e=0;while(--n>=0)e+=l[n],l[n]=f(e/r),e=e%r*1e7},v=function(){var r=6,n="";while(--r>=0)if(""!==n||0===r||0!==l[r]){var e=String(l[r]);n=""===n?e:n+o.call("0",7-e.length)+e}return n};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(p="-",a=-a),a>1e-21)if(n=m(a*s(2,69,1))-69,e=n<0?a*s(2,-n,1):a/s(2,n,1),e*=4503599627370496,n=52-n,n>0){g(0,e),i=h;while(i>=7)g(1e7,0),i-=7;g(s(10,i,1),0),i=n-1;while(i>=23)y(1<<23),i-=23;y(1<<i),g(1,1),y(2),d=v()}else g(0,e),g(1<<-n,0),d=v()+o.call("0",h);return h>0?(c=d.length,d=p+(c<=h?"0."+o.call("0",h-c)+d:d.slice(0,c-h)+"."+d.slice(c-h))):d=p+d,d}})},cb27:function(module,exports,__webpack_require__){"use strict";(function(global){var numeric=exports;"undefined"!==typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(r,n){var e,i,t,u;"undefined"===typeof n&&(n=15),t=.5,e=new Date;while(1){for(t*=2,u=t;u>3;u-=4)r(),r(),r(),r();while(u>0)r(),u--;if(i=new Date,i-e>n)break}for(u=t;u>3;u-=4)r(),r(),r(),r();while(u>0)r(),u--;return i=new Date,1e3*(3*t-1)/(i-e)},numeric._myIndexOf=function(r){var n,e=this.length;for(n=0;n<e;++n)if(this[n]===r)return n;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(r){function n(r){if(0===r)return"0";if(isNaN(r))return"NaN";if(r<0)return"-"+n(-r);if(isFinite(r)){var e=Math.floor(Math.log(r)/Math.log(10)),i=r/Math.pow(10,e),t=i.toPrecision(numeric.precision);return 10===parseFloat(t)&&(e++,i=1,t=i.toPrecision(numeric.precision)),parseFloat(t).toString()+"e"+e.toString()}return"Infinity"}var e=[];function i(r){var t;if("undefined"===typeof r)return e.push(Array(numeric.precision+8).join(" ")),!1;if("string"===typeof r)return e.push('"'+r+'"'),!1;if("boolean"===typeof r)return e.push(r.toString()),!1;if("number"===typeof r){var u=n(r),o=r.toPrecision(numeric.precision),c=parseFloat(r.toString()).toString(),a=[u,o,c,parseFloat(o).toString(),parseFloat(c).toString()];for(t=1;t<a.length;t++)a[t].length<u.length&&(u=a[t]);return e.push(Array(numeric.precision+8-u.length).join(" ")+u),!1}if(null===r)return e.push("null"),!1;if("function"===typeof r){e.push(r.toString());var f=!1;for(t in r)r.hasOwnProperty(t)&&(f?e.push(",\n"):e.push("\n{"),f=!0,e.push(t),e.push(": \n"),i(r[t]));return f&&e.push("}\n"),!0}if(r instanceof Array){if(r.length>numeric.largeArray)return e.push("...Large Array..."),!0;f=!1;for(e.push("["),t=0;t<r.length;t++)t>0&&(e.push(","),f&&e.push("\n ")),f=i(r[t]);return e.push("]"),!0}e.push("{");f=!1;for(t in r)r.hasOwnProperty(t)&&(f&&e.push(",\n"),f=!0,e.push(t),e.push(": \n"),i(r[t]));return e.push("}"),!0}return i(r),e.join("")},numeric.parseDate=function(r){function n(r){if("string"===typeof r)return Date.parse(r.replace(/-/g,"/"));if(!(r instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var e,i=[];for(e=0;e<r.length;e++)i[e]=n(r[e]);return i}return n(r)},numeric.parseFloat=function(r){function n(r){if("string"===typeof r)return parseFloat(r);if(!(r instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var e,i=[];for(e=0;e<r.length;e++)i[e]=n(r[e]);return i}return n(r)},numeric.parseCSV=function(r){var n,e,i=r.split("\n"),t=[],u=/(([^'",]*)|('[^']*')|("[^"]*")),/g,o=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,c=function(r){return r.substr(0,r.length-1)},a=0;for(e=0;e<i.length;e++){var f,s=(i[e]+",").match(u);if(s.length>0){for(t[a]=[],n=0;n<s.length;n++)f=c(s[n]),o.test(f)?t[a][n]=parseFloat(f):t[a][n]=f;a++}}return t},numeric.toCSV=function(r){var n,e,i,t,u,o=numeric.dim(r);for(i=o[0],o[1],u=[],n=0;n<i;n++){for(t=[],e=0;e<i;e++)t[e]=r[n][e].toString();u[n]=t.join(", ")}return u.join("\n")+"\n"},numeric.getURL=function(r){var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(),n},numeric.imageURL=function(r){function n(r){var n,e,i,t,u,o,c,a,f=r.length,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m="";for(n=0;n<f;n+=3)e=r[n],i=r[n+1],t=r[n+2],u=e>>2,o=((3&e)<<4)+(i>>4),c=((15&i)<<2)+(t>>6),a=63&t,n+1>=f?c=a=64:n+2>=f&&(a=64),m+=s.charAt(u)+s.charAt(o)+s.charAt(c)+s.charAt(a);return m}function e(r,n,e){"undefined"===typeof n&&(n=0),"undefined"===typeof e&&(e=r.length);var i,t=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],u=-1,o=0;r.length;for(i=n;i<e;i++)o=255&(u^r[i]),u=u>>>8^t[o];return-1^u}var i,t,u,o,c,a,f,s,m,h,l=r[0].length,p=r[0][0].length,d=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,p>>24&255,p>>16&255,p>>8&255,255&p,l>>24&255,l>>16&255,l>>8&255,255&l,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=e(d,12,29),d[29]=h>>24&255,d[30]=h>>16&255,d[31]=h>>8&255,d[32]=255&h,i=1,t=0,f=0;f<l;f++){for(f<l-1?d.push(0):d.push(1),c=3*p+1+(0===f)&255,a=3*p+1+(0===f)>>8&255,d.push(c),d.push(a),d.push(255&~c),d.push(255&~a),0===f&&d.push(0),s=0;s<p;s++)for(u=0;u<3;u++)c=r[u][f][s],c=c>255?255:c<0?0:Math.round(c),i=(i+c)%65521,t=(t+i)%65521,d.push(c);d.push(0)}return m=(t<<16)+i,d.push(m>>24&255),d.push(m>>16&255),d.push(m>>8&255),d.push(255&m),o=d.length-41,d[33]=o>>24&255,d[34]=o>>16&255,d[35]=o>>8&255,d[36]=255&o,h=e(d,37),d.push(h>>24&255),d.push(h>>16&255),d.push(h>>8&255),d.push(255&h),d.push(0),d.push(0),d.push(0),d.push(0),d.push(73),d.push(69),d.push(78),d.push(68),d.push(174),d.push(66),d.push(96),d.push(130),"data:image/png;base64,"+n(d)},numeric._dim=function(r){var n=[];while("object"===typeof r)n.push(r.length),r=r[0];return n},numeric.dim=function(r){var n,e;return"object"===typeof r?(n=r[0],"object"===typeof n?(e=n[0],"object"===typeof e?numeric._dim(r):[r.length,n.length]):[r.length]):[]},numeric.mapreduce=function(r,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+';\nif(typeof x === "number") { var xi = x; '+r+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+r+";\n    xi = x[i-1];\n    "+r+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+r+"\n}\nreturn accum;")},numeric.mapreduce2=function(r,n){return Function("x","var n = x.length;\nvar i,xi;\n"+n+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+r+";\n}\nreturn accum;")},numeric.same=function r(n,e){var i,t;if(!(n instanceof Array)||!(e instanceof Array))return!1;if(t=n.length,t!==e.length)return!1;for(i=0;i<t;i++)if(n[i]!==e[i]){if("object"!==typeof n[i])return!1;if(!r(n[i],e[i]))return!1}return!0},numeric.rep=function(r,n,e){"undefined"===typeof e&&(e=0);var i,t=r[e],u=Array(t);if(e===r.length-1){for(i=t-2;i>=0;i-=2)u[i+1]=n,u[i]=n;return-1===i&&(u[0]=n),u}for(i=t-1;i>=0;i--)u[i]=numeric.rep(r,n,e+1);return u},numeric.dotMMsmall=function(r,n){var e,i,t,u,o,c,a,f,s,m,h;for(u=r.length,o=n.length,c=n[0].length,a=Array(u),e=u-1;e>=0;e--){for(f=Array(c),s=r[e],t=c-1;t>=0;t--){for(m=s[o-1]*n[o-1][t],i=o-2;i>=1;i-=2)h=i-1,m+=s[i]*n[i][t]+s[h]*n[h][t];0===i&&(m+=s[0]*n[0][t]),f[t]=m}a[e]=f}return a},numeric._getCol=function(r,n,e){var i,t=r.length;for(i=t-1;i>0;--i)e[i]=r[i][n],--i,e[i]=r[i][n];0===i&&(e[0]=r[0][n])},numeric.dotMMbig=function(r,n){var e,i,t,u=numeric._getCol,o=n.length,c=Array(o),a=r.length,f=n[0].length,s=new Array(a),m=numeric.dotVV;for(--o,--a,i=a;-1!==i;--i)s[i]=Array(f);for(--f,i=f;-1!==i;--i)for(u(n,i,c),t=a;-1!==t;--t)0,e=r[t],s[t][i]=m(e,c);return s},numeric.dotMV=function(r,n){var e,i=r.length,t=(n.length,Array(i)),u=numeric.dotVV;for(e=i-1;e>=0;e--)t[e]=u(r[e],n);return t},numeric.dotVM=function(r,n){var e,i,t,u,o,c,a;for(t=r.length,u=n[0].length,o=Array(u),i=u-1;i>=0;i--){for(c=r[t-1]*n[t-1][i],e=t-2;e>=1;e-=2)a=e-1,c+=r[e]*n[e][i]+r[a]*n[a][i];0===e&&(c+=r[0]*n[0][i]),o[i]=c}return o},numeric.dotVV=function(r,n){var e,i,t=r.length,u=r[t-1]*n[t-1];for(e=t-2;e>=1;e-=2)i=e-1,u+=r[e]*n[e]+r[i]*n[i];return 0===e&&(u+=r[0]*n[0]),u},numeric.dot=function(r,n){var e=numeric.dim;switch(1e3*e(r).length+e(n).length){case 2002:return n.length<10?numeric.dotMMsmall(r,n):numeric.dotMMbig(r,n);case 2001:return numeric.dotMV(r,n);case 1002:return numeric.dotVM(r,n);case 1001:return numeric.dotVV(r,n);case 1e3:return numeric.mulVS(r,n);case 1:return numeric.mulSV(r,n);case 0:return r*n;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(r){var n,e,i,t,u=r.length,o=Array(u);for(n=u-1;n>=0;n--){for(t=Array(u),e=n+2,i=u-1;i>=e;i-=2)t[i]=0,t[i-1]=0;for(i>n&&(t[i]=0),t[n]=r[n],i=n-1;i>=1;i-=2)t[i]=0,t[i-1]=0;0===i&&(t[0]=0),o[n]=t}return o},numeric.getDiag=function(r){var n,e=Math.min(r.length,r[0].length),i=Array(e);for(n=e-1;n>=1;--n)i[n]=r[n][n],--n,i[n]=r[n][n];return 0===n&&(i[0]=r[0][0]),i},numeric.identity=function(r){return numeric.diag(numeric.rep([r],1))},numeric.pointwise=function(r,n,e){"undefined"===typeof e&&(e="");var i,t,u=[],o=/\[i\]$/,c="",a=!1;for(i=0;i<r.length;i++)o.test(r[i])?(t=r[i].substring(0,r[i].length-3),c=t):t=r[i],"ret"===t&&(a=!0),u.push(t);return u[r.length]="_s",u[r.length+1]="_k",u[r.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+c+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(a?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+r.join(",")+",_s,_k+1);\n    return ret;\n}\n"+e+"\nfor(i=_n-1;i!==-1;--i) {\n    "+n+"\n}\nreturn ret;",Function.apply(null,u)},numeric.pointwise2=function(r,n,e){"undefined"===typeof e&&(e="");var i,t,u=[],o=/\[i\]$/,c="",a=!1;for(i=0;i<r.length;i++)o.test(r[i])?(t=r[i].substring(0,r[i].length-3),c=t):t=r[i],"ret"===t&&(a=!0),u.push(t);return u[r.length]="var _n = "+c+".length;\nvar i"+(a?"":", ret = Array(_n)")+";\n"+e+"\nfor(i=_n-1;i!==-1;--i) {\n"+n+"\n}\nreturn ret;",Function.apply(null,u)},numeric._biforeach=function r(n,e,i,t,u){if(t!==i.length-1){var o,c=i[t];for(o=c-1;o>=0;o--)r("object"===typeof n?n[o]:n,"object"===typeof e?e[o]:e,i,t+1,u)}else u(n,e)},numeric._biforeach2=function r(n,e,i,t,u){if(t===i.length-1)return u(n,e);var o,c=i[t],a=Array(c);for(o=c-1;o>=0;--o)a[o]=r("object"===typeof n?n[o]:n,"object"===typeof e?e[o]:e,i,t+1,u);return a},numeric._foreach=function r(n,e,i,t){if(i!==e.length-1){var u,o=e[i];for(u=o-1;u>=0;u--)r(n[u],e,i+1,t)}else t(n)},numeric._foreach2=function r(n,e,i,t){if(i===e.length-1)return t(n);var u,o=e[i],c=Array(o);for(u=o-1;u>=0;u--)c[u]=r(n[u],e,i+1,t);return c},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var r,n;for(r=0;r<numeric.mathfuns2.length;++r)n=numeric.mathfuns2[r],numeric.ops2[n]=n;for(r in numeric.ops2)if(numeric.ops2.hasOwnProperty(r)){n=numeric.ops2[r];var e,i,t="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,r)?(t="var "+n+" = Math."+n+";\n",e=function(r,e,i){return r+" = "+n+"("+e+","+i+")"},i=function(r,e){return r+" = "+n+"("+r+","+e+")"}):(e=function(r,e,i){return r+" = "+e+" "+n+" "+i},i=numeric.opseq.hasOwnProperty(r+"eq")?function(r,e){return r+" "+n+"= "+e}:function(r,e){return r+" = "+r+" "+n+" "+e}),numeric[r+"VV"]=numeric.pointwise2(["x[i]","y[i]"],e("ret[i]","x[i]","y[i]"),t),numeric[r+"SV"]=numeric.pointwise2(["x","y[i]"],e("ret[i]","x","y[i]"),t),numeric[r+"VS"]=numeric.pointwise2(["x[i]","y"],e("ret[i]","x[i]","y"),t),numeric[r]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+r+"VV, VS = numeric."+r+"VS, SV = numeric."+r+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+i("x","y")+"\n}\nreturn x;\n"),numeric[n]=numeric[r],numeric[r+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),t),numeric[r+"eqS"]=numeric.pointwise2(["ret[i]","x"],i("ret[i]","x"),t),numeric[r+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+r+"eqV, S = numeric."+r+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(r=0;r<numeric.mathfuns2.length;++r)n=numeric.mathfuns2[r],delete numeric.ops2[n];for(r=0;r<numeric.mathfuns.length;++r)n=numeric.mathfuns[r],numeric.ops1[n]=n;for(r in numeric.ops1)numeric.ops1.hasOwnProperty(r)&&(t="",n=numeric.ops1[r],-1!==numeric.myIndexOf.call(numeric.mathfuns,r)&&Math.hasOwnProperty(n)&&(t="var "+n+" = Math."+n+";\n"),numeric[r+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+n+"(ret[i]);",t),numeric[r+"eq"]=Function("x",'if(typeof x !== "object") return '+n+"x\nvar i;\nvar V = numeric."+r+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[r+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+n+"(x[i]);",t),numeric[r]=Function("x",'if(typeof x !== "object") return '+n+"(x)\nvar i;\nvar V = numeric."+r+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(r=0;r<numeric.mathfuns.length;++r)n=numeric.mathfuns[r],delete numeric.ops1[n];for(r in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(r)&&(n=numeric.mapreducers[r],numeric[r+"V"]=numeric.mapreduce2(n[0],n[1]),numeric[r]=Function("x","s","k",n[1]+'if(typeof x !== "object") {    xi = x;\n'+n[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+r+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+n[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(r,n){return"object"===typeof r?"object"===typeof n?numeric.truncVV(r,n):numeric.truncVS(r,n):"object"===typeof n?numeric.truncSV(r,n):Math.round(r/n)*n},numeric.inv=function(r){var n,e,i,t,u,o,c,a=numeric.dim(r),f=Math.abs,s=a[0],m=a[1],h=numeric.clone(r),l=numeric.identity(s);for(o=0;o<m;++o){var p=-1,d=-1;for(u=o;u!==s;++u)c=f(h[u][o]),c>d&&(p=u,d=c);for(e=h[p],h[p]=h[o],h[o]=e,t=l[p],l[p]=l[o],l[o]=t,r=e[o],c=o;c!==m;++c)e[c]/=r;for(c=m-1;-1!==c;--c)t[c]/=r;for(u=s-1;-1!==u;--u)if(u!==o){for(n=h[u],i=l[u],r=n[o],c=o+1;c!==m;++c)n[c]-=e[c]*r;for(c=m-1;c>0;--c)i[c]-=t[c]*r,--c,i[c]-=t[c]*r;0===c&&(i[0]-=t[0]*r)}}return l},numeric.det=function(r){var n=numeric.dim(r);if(2!==n.length||n[0]!==n[1])throw new Error("numeric: det() only works on square matrices");var e,i,t,u,o,c,a,f,s=n[0],m=1,h=numeric.clone(r);for(i=0;i<s-1;i++){for(t=i,e=i+1;e<s;e++)Math.abs(h[e][i])>Math.abs(h[t][i])&&(t=e);for(t!==i&&(a=h[t],h[t]=h[i],h[i]=a,m*=-1),u=h[i],e=i+1;e<s;e++){for(o=h[e],c=o[i]/u[i],t=i+1;t<s-1;t+=2)f=t+1,o[t]-=u[t]*c,o[f]-=u[f]*c;t!==s&&(o[t]-=u[t]*c)}if(0===u[i])return 0;m*=u[i]}return m*h[i][i]},numeric.transpose=function(r){var n,e,i,t,u,o=r.length,c=r[0].length,a=Array(c);for(e=0;e<c;e++)a[e]=Array(o);for(n=o-1;n>=1;n-=2){for(t=r[n],i=r[n-1],e=c-1;e>=1;--e)u=a[e],u[n]=t[e],u[n-1]=i[e],--e,u=a[e],u[n]=t[e],u[n-1]=i[e];0===e&&(u=a[0],u[n]=t[0],u[n-1]=i[0])}if(0===n){for(i=r[0],e=c-1;e>=1;--e)a[e][0]=i[e],--e,a[e][0]=i[e];0===e&&(a[0][0]=i[0])}return a},numeric.negtranspose=function(r){var n,e,i,t,u,o=r.length,c=r[0].length,a=Array(c);for(e=0;e<c;e++)a[e]=Array(o);for(n=o-1;n>=1;n-=2){for(t=r[n],i=r[n-1],e=c-1;e>=1;--e)u=a[e],u[n]=-t[e],u[n-1]=-i[e],--e,u=a[e],u[n]=-t[e],u[n-1]=-i[e];0===e&&(u=a[0],u[n]=-t[0],u[n-1]=-i[0])}if(0===n){for(i=r[0],e=c-1;e>=1;--e)a[e][0]=-i[e],--e,a[e][0]=-i[e];0===e&&(a[0][0]=-i[0])}return a},numeric._random=function r(n,e){var i,t,u=n[e],o=Array(u);if(e===n.length-1){for(t=Math.random,i=u-1;i>=1;i-=2)o[i]=t(),o[i-1]=t();return 0===i&&(o[0]=t()),o}for(i=u-1;i>=0;i--)o[i]=r(n,e+1);return o},numeric.random=function(r){return numeric._random(r,0)},numeric.norm2=function(r){return Math.sqrt(numeric.norm2Squared(r))},numeric.linspace=function(r,n,e){if("undefined"===typeof e&&(e=Math.max(Math.round(n-r)+1,1)),e<2)return 1===e?[r]:[];var i,t=Array(e);for(e--,i=e;i>=0;i--)t[i]=(i*n+(e-i)*r)/e;return t},numeric.getBlock=function(r,n,e){var i=numeric.dim(r);function t(r,u){var o,c=n[u],a=e[u]-c,f=Array(a);if(u===i.length-1){for(o=a;o>=0;o--)f[o]=r[o+c];return f}for(o=a;o>=0;o--)f[o]=t(r[o+c],u+1);return f}return t(r,0)},numeric.setBlock=function(r,n,e,i){var t=numeric.dim(r);function u(r,i,o){var c,a=n[o],f=e[o]-a;if(o===t.length-1)for(c=f;c>=0;c--)r[c+a]=i[c];for(c=f;c>=0;c--)u(r[c+a],i[c],o+1)}return u(r,i,0),r},numeric.getRange=function(r,n,e){var i,t,u,o,c=n.length,a=e.length,f=Array(c);for(i=c-1;-1!==i;--i)for(f[i]=Array(a),u=f[i],o=r[n[i]],t=a-1;-1!==t;--t)u[t]=o[e[t]];return f},numeric.blockMatrix=function(r){var n=numeric.dim(r);if(n.length<4)return numeric.blockMatrix([r]);var e,i,t,u,o,c=n[0],a=n[1];for(e=0,i=0,t=0;t<c;++t)e+=r[t][0].length;for(u=0;u<a;++u)i+=r[0][u][0].length;var f=Array(e);for(t=0;t<e;++t)f[t]=Array(i);var s,m,h,l,p,d=0;for(t=0;t<c;++t){for(s=i,u=a-1;-1!==u;--u)for(o=r[t][u],s-=o[0].length,h=o.length-1;-1!==h;--h)for(p=o[h],m=f[d+h],l=p.length-1;-1!==l;--l)m[s+l]=p[l];d+=r[t][0].length}return f},numeric.tensor=function(r,n){if("number"===typeof r||"number"===typeof n)return numeric.mul(r,n);var e=numeric.dim(r),i=numeric.dim(n);if(1!==e.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var t,u,o,c,a=e[0],f=i[0],s=Array(a);for(u=a-1;u>=0;u--){for(t=Array(f),c=r[u],o=f-1;o>=3;--o)t[o]=c*n[o],--o,t[o]=c*n[o],--o,t[o]=c*n[o],--o,t[o]=c*n[o];while(o>=0)t[o]=c*n[o],--o;s[u]=t}return s},numeric.T=function(r,n){this.x=r,this.y=n},numeric.t=function(r,n){return new numeric.T(r,n)},numeric.Tbinop=function(r,n,e,i,t){var u;numeric.indexOf;if("string"!==typeof t)for(u in t="",numeric)numeric.hasOwnProperty(u)&&(r.indexOf(u)>=0||n.indexOf(u)>=0||e.indexOf(u)>=0||i.indexOf(u)>=0)&&u.length>1&&(t+="var "+u+" = numeric."+u+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+t+"\nif(x.y) {  if(y.y) {    return new numeric.T("+i+");\n  }\n  return new numeric.T("+e+");\n}\nif(y.y) {\n  return new numeric.T("+n+");\n}\nreturn new numeric.T("+r+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var r=numeric.mul,n=numeric.div;if(this.y){var e=numeric.add(r(this.x,this.x),r(this.y,this.y));return new numeric.T(n(this.x,e),n(numeric.neg(this.y),e))}return new T(n(1,this.x))},numeric.T.prototype.div=function(r){if(r instanceof numeric.T||(r=new numeric.T(r)),r.y)return this.mul(r.reciprocal());var n=numeric.div;return this.y?new numeric.T(n(this.x,r.x),n(this.y,r.x)):new numeric.T(n(this.x,r.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var r=numeric.transpose,n=this.x,e=this.y;return e?new numeric.T(r(n),r(e)):new numeric.T(r(n))},numeric.T.prototype.transjugate=function(){var r=numeric.transpose,n=this.x,e=this.y;return e?new numeric.T(r(n),numeric.negtranspose(e)):new numeric.T(r(n))},numeric.Tunop=function(r,n,e){return"string"!==typeof e&&(e=""),Function("var x = this;\n"+e+"\nif(x.y) {  "+n+";\n}\n"+r+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var r=this;if("undefined"===typeof r.y)return new numeric.T(numeric.inv(r.x));var n,e,i,t,u,o,c,a,f,s,m,h,l,p,d,g,y,v,x=r.x.length,b=numeric.identity(x),w=numeric.rep([x,x],0),M=numeric.clone(r.x),k=numeric.clone(r.y);for(f=0;f<x;f++){for(p=M[f][f],d=k[f][f],h=p*p+d*d,m=f,s=f+1;s<x;s++)p=M[s][f],d=k[s][f],l=p*p+d*d,l>h&&(m=s,h=l);for(m!==f&&(v=M[f],M[f]=M[m],M[m]=v,v=k[f],k[f]=k[m],k[m]=v,v=b[f],b[f]=b[m],b[m]=v,v=w[f],w[f]=w[m],w[m]=v),n=M[f],e=k[f],u=b[f],o=w[f],p=n[f],d=e[f],s=f+1;s<x;s++)g=n[s],y=e[s],n[s]=(g*p+y*d)/h,e[s]=(y*p-g*d)/h;for(s=0;s<x;s++)g=u[s],y=o[s],u[s]=(g*p+y*d)/h,o[s]=(y*p-g*d)/h;for(s=f+1;s<x;s++){for(i=M[s],t=k[s],c=b[s],a=w[s],p=i[f],d=t[f],m=f+1;m<x;m++)g=n[m],y=e[m],i[m]-=g*p-y*d,t[m]-=y*p+g*d;for(m=0;m<x;m++)g=u[m],y=o[m],c[m]-=g*p-y*d,a[m]-=y*p+g*d}}for(f=x-1;f>0;f--)for(u=b[f],o=w[f],s=f-1;s>=0;s--)for(c=b[s],a=w[s],p=M[s][f],d=k[s][f],m=x-1;m>=0;m--)g=u[m],y=o[m],c[m]-=p*g-d*y,a[m]-=p*y+d*g;return new numeric.T(b,w)},numeric.T.prototype.get=function(r){var n,e=this.x,i=this.y,t=0,u=r.length;if(i){while(t<u)n=r[t],e=e[n],i=i[n],t++;return new numeric.T(e,i)}while(t<u)n=r[t],e=e[n],t++;return new numeric.T(e)},numeric.T.prototype.set=function(r,n){var e,i=this.x,t=this.y,u=0,o=r.length,c=n.x,a=n.y;if(0===o)return a?this.y=a:t&&(this.y=void 0),this.x=i,this;if(a){t||(t=numeric.rep(numeric.dim(i),0),this.y=t);while(u<o-1)e=r[u],i=i[e],t=t[e],u++;return e=r[u],i[e]=c,t[e]=a,this}if(t){while(u<o-1)e=r[u],i=i[e],t=t[e],u++;return e=r[u],i[e]=c,t[e]=c instanceof Array?numeric.rep(numeric.dim(c),0):0,this}while(u<o-1)e=r[u],i=i[e],u++;return e=r[u],i[e]=c,this},numeric.T.prototype.getRows=function(r,n){var e,i,t=n-r+1,u=Array(t),o=this.x,c=this.y;for(e=r;e<=n;e++)u[e-r]=o[e];if(c){for(i=Array(t),e=r;e<=n;e++)i[e-r]=c[e];return new numeric.T(u,i)}return new numeric.T(u)},numeric.T.prototype.setRows=function(r,n,e){var i,t=this.x,u=this.y,o=e.x,c=e.y;for(i=r;i<=n;i++)t[i]=o[i-r];if(c)for(u||(u=numeric.rep(numeric.dim(t),0),this.y=u),i=r;i<=n;i++)u[i]=c[i-r];else if(u)for(i=r;i<=n;i++)u[i]=numeric.rep([o[i-r].length],0);return this},numeric.T.prototype.getRow=function(r){var n=this.x,e=this.y;return e?new numeric.T(n[r],e[r]):new numeric.T(n[r])},numeric.T.prototype.setRow=function(r,n){var e=this.x,i=this.y,t=n.x,u=n.y;return e[r]=t,u?(i||(i=numeric.rep(numeric.dim(e),0),this.y=i),i[r]=u):i&&(i=numeric.rep([t.length],0)),this},numeric.T.prototype.getBlock=function(r,n){var e=this.x,i=this.y,t=numeric.getBlock;return i?new numeric.T(t(e,r,n),t(i,r,n)):new numeric.T(t(e,r,n))},numeric.T.prototype.setBlock=function(r,n,e){e instanceof numeric.T||(e=new numeric.T(e));var i=this.x,t=this.y,u=numeric.setBlock,o=e.x,c=e.y;if(c)return t||(this.y=numeric.rep(numeric.dim(this),0),t=this.y),u(i,r,n,o),u(t,r,n,c),this;u(i,r,n,o),t&&u(t,r,n,numeric.rep(numeric.dim(o),0))},numeric.T.rep=function(r,n){var e=numeric.T;n instanceof e||(n=new e(n));var i=n.x,t=n.y,u=numeric.rep;return t?new e(u(r,i),u(r,t)):new e(u(r,i))},numeric.T.diag=function(r){r instanceof numeric.T||(r=new numeric.T(r));var n=r.x,e=r.y,i=numeric.diag;return e?new numeric.T(i(n),i(e)):new numeric.T(i(n))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(r){return new numeric.T(numeric.identity(r))},numeric.T.prototype.getDiag=function(){var r=numeric,n=this.x,e=this.y;return e?new r.T(r.getDiag(n),r.getDiag(e)):new r.T(r.getDiag(n))},numeric.house=function(r){var n=numeric.clone(r),e=r[0]>=0?1:-1,i=e*numeric.norm2(r);n[0]+=i;var t=numeric.norm2(n);if(0===t)throw new Error("eig: internal error");return numeric.div(n,t)},numeric.toUpperHessenberg=function(r){var n=numeric.dim(r);if(2!==n.length||n[0]!==n[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var e,i,t,u,o,c,a,f,s,m,h=n[0],l=numeric.clone(r),p=numeric.identity(h);for(i=0;i<h-2;i++){for(u=Array(h-i-1),e=i+1;e<h;e++)u[e-i-1]=l[e][i];if(numeric.norm2(u)>0){for(o=numeric.house(u),c=numeric.getBlock(l,[i+1,i],[h-1,h-1]),a=numeric.tensor(o,numeric.dot(o,c)),e=i+1;e<h;e++)for(f=l[e],s=a[e-i-1],t=i;t<h;t++)f[t]-=2*s[t-i];for(c=numeric.getBlock(l,[0,i+1],[h-1,h-1]),a=numeric.tensor(numeric.dot(c,o),o),e=0;e<h;e++)for(f=l[e],s=a[e],t=i+1;t<h;t++)f[t]-=2*s[t-i-1];for(c=Array(h-i-1),e=i+1;e<h;e++)c[e-i-1]=p[e];for(a=numeric.tensor(o,numeric.dot(o,c)),e=i+1;e<h;e++)for(m=p[e],s=a[e-i-1],t=0;t<h;t++)m[t]-=2*s[t]}}return{H:l,Q:p}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(r,n){"undefined"===typeof n&&(n=1e4),r=numeric.clone(r);numeric.clone(r);var e,i,t,u,o,c,a,f,s,m,h,l,p,d,g,y,v,x,b=numeric.dim(r),w=b[0],M=numeric.identity(w);if(w<3)return{Q:M,B:[[0,w-1]]};var k=numeric.epsilon;for(x=0;x<n;x++){for(y=0;y<w-1;y++)if(Math.abs(r[y+1][y])<k*(Math.abs(r[y][y])+Math.abs(r[y+1][y+1]))){var j=numeric.QRFrancis(numeric.getBlock(r,[0,0],[y,y]),n),A=numeric.QRFrancis(numeric.getBlock(r,[y+1,y+1],[w-1,w-1]),n);for(l=Array(y+1),g=0;g<=y;g++)l[g]=M[g];for(p=numeric.dot(j.Q,l),g=0;g<=y;g++)M[g]=p[g];for(l=Array(w-y-1),g=y+1;g<w;g++)l[g-y-1]=M[g];for(p=numeric.dot(A.Q,l),g=y+1;g<w;g++)M[g]=p[g-y-1];return{Q:M,B:j.B.concat(numeric.add(A.B,y+1))}}var T,_,S;if(t=r[w-2][w-2],u=r[w-2][w-1],o=r[w-1][w-2],c=r[w-1][w-1],f=t+c,a=t*c-u*o,s=numeric.getBlock(r,[0,0],[2,2]),f*f>=4*a)T=.5*(f+Math.sqrt(f*f-4*a)),_=.5*(f-Math.sqrt(f*f-4*a)),s=numeric.add(numeric.sub(numeric.dot(s,s),numeric.mul(s,T+_)),numeric.diag(numeric.rep([3],T*_)));else s=numeric.add(numeric.sub(numeric.dot(s,s),numeric.mul(s,f)),numeric.diag(numeric.rep([3],a)));for(e=[s[0][0],s[1][0],s[2][0]],i=numeric.house(e),l=[r[0],r[1],r[2]],p=numeric.tensor(i,numeric.dot(i,l)),g=0;g<3;g++)for(h=r[g],d=p[g],v=0;v<w;v++)h[v]-=2*d[v];for(l=numeric.getBlock(r,[0,0],[w-1,2]),p=numeric.tensor(numeric.dot(l,i),i),g=0;g<w;g++)for(h=r[g],d=p[g],v=0;v<3;v++)h[v]-=2*d[v];for(l=[M[0],M[1],M[2]],p=numeric.tensor(i,numeric.dot(i,l)),g=0;g<3;g++)for(m=M[g],d=p[g],v=0;v<w;v++)m[v]-=2*d[v];for(y=0;y<w-2;y++){for(v=y;v<=y+1;v++)if(Math.abs(r[v+1][v])<k*(Math.abs(r[v][v])+Math.abs(r[v+1][v+1]))){j=numeric.QRFrancis(numeric.getBlock(r,[0,0],[v,v]),n),A=numeric.QRFrancis(numeric.getBlock(r,[v+1,v+1],[w-1,w-1]),n);for(l=Array(v+1),g=0;g<=v;g++)l[g]=M[g];for(p=numeric.dot(j.Q,l),g=0;g<=v;g++)M[g]=p[g];for(l=Array(w-v-1),g=v+1;g<w;g++)l[g-v-1]=M[g];for(p=numeric.dot(A.Q,l),g=v+1;g<w;g++)M[g]=p[g-v-1];return{Q:M,B:j.B.concat(numeric.add(A.B,v+1))}}for(S=Math.min(w-1,y+3),e=Array(S-y),g=y+1;g<=S;g++)e[g-y-1]=r[g][y];for(i=numeric.house(e),l=numeric.getBlock(r,[y+1,y],[S,w-1]),p=numeric.tensor(i,numeric.dot(i,l)),g=y+1;g<=S;g++)for(h=r[g],d=p[g-y-1],v=y;v<w;v++)h[v]-=2*d[v-y];for(l=numeric.getBlock(r,[0,y+1],[w-1,S]),p=numeric.tensor(numeric.dot(l,i),i),g=0;g<w;g++)for(h=r[g],d=p[g],v=y+1;v<=S;v++)h[v]-=2*d[v-y-1];for(l=Array(S-y),g=y+1;g<=S;g++)l[g-y-1]=M[g];for(p=numeric.tensor(i,numeric.dot(i,l)),g=y+1;g<=S;g++)for(m=M[g],d=p[g-y-1],v=0;v<w;v++)m[v]-=2*d[v]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(r,n){var e,i,t,u,o,c,a,f,s,m,h,l,p,d,g,y,v,x=numeric.toUpperHessenberg(r),b=numeric.QRFrancis(x.H,n),w=numeric.T,M=r.length,k=b.B,j=numeric.dot(b.Q,numeric.dot(x.H,numeric.transpose(b.Q))),A=new w(numeric.dot(b.Q,x.Q)),T=k.length,_=Math.sqrt;for(i=0;i<T;i++)if(e=k[i][0],e===k[i][1]);else{if(u=e+1,o=j[e][e],c=j[e][u],a=j[u][e],f=j[u][u],0===c&&0===a)continue;s=-o-f,m=o*f-c*a,h=s*s-4*m,h>=0?(l=s<0?-.5*(s-_(h)):-.5*(s+_(h)),y=(o-l)*(o-l)+c*c,v=a*a+(f-l)*(f-l),y>v?(y=_(y),d=(o-l)/y,g=c/y):(v=_(v),d=a/v,g=(f-l)/v),t=new w([[g,-d],[d,g]]),A.setRows(e,u,t.dot(A.getRows(e,u)))):(l=-.5*s,p=.5*_(-h),y=(o-l)*(o-l)+c*c,v=a*a+(f-l)*(f-l),y>v?(y=_(y+p*p),d=(o-l)/y,g=c/y,l=0,p/=y):(v=_(v+p*p),d=a/v,g=(f-l)/v,l=p/v,p=0),t=new w([[g,-d],[d,g]],[[l,p],[p,-l]]),A.setRows(e,u,t.dot(A.getRows(e,u))))}var S=A.dot(r).dot(A.transjugate()),P=(M=r.length,numeric.T.identity(M));for(u=0;u<M;u++)if(u>0)for(i=u-1;i>=0;i--){var q=S.get([i,i]),V=S.get([u,u]);numeric.neq(q.x,V.x)||numeric.neq(q.y,V.y)?(l=S.getRow(i).getBlock([i],[u-1]),p=P.getRow(u).getBlock([i],[u-1]),P.set([u,i],S.get([i,u]).neg().sub(l.dot(p)).div(q.sub(V)))):P.setRow(u,P.getRow(i))}for(u=0;u<M;u++)l=P.getRow(u),P.setRow(u,l.div(l.norm2()));return P=P.transpose(),P=A.transjugate().dot(P),{lambda:S.getDiag(),E:P}},numeric.ccsSparse=function(r){var n,e,i,t=r.length,u=[];for(e=t-1;-1!==e;--e)for(i in n=r[e],n){i=parseInt(i);while(i>=u.length)u[u.length]=0;0!==n[i]&&u[i]++}var o=u.length,c=Array(o+1);for(c[0]=0,e=0;e<o;++e)c[e+1]=c[e]+u[e];var a=Array(c[o]),f=Array(c[o]);for(e=t-1;-1!==e;--e)for(i in n=r[e],n)0!==n[i]&&(u[i]--,a[c[i]+u[i]]=e,f[c[i]+u[i]]=n[i]);return[c,a,f]},numeric.ccsFull=function(r){var n,e,i,t,u=r[0],o=r[1],c=r[2],a=numeric.ccsDim(r),f=a[0],s=a[1],m=numeric.rep([f,s],0);for(n=0;n<s;n++)for(i=u[n],t=u[n+1],e=i;e<t;++e)m[o[e]][n]=c[e];return m},numeric.ccsTSolve=function(r,n,e,i,t){var u,o,c,a,f,s,m,h=r[0],l=r[1],p=r[2],d=h.length-1,g=Math.max,y=0;function v(r){var n;if(0===e[r]){for(e[r]=1,n=h[r];n<h[r+1];++n)v(l[n]);t[y]=r,++y}}for("undefined"===typeof i&&(e=numeric.rep([d],0)),"undefined"===typeof i&&(i=numeric.linspace(0,e.length-1)),"undefined"===typeof t&&(t=[]),u=i.length-1;-1!==u;--u)v(i[u]);for(t.length=y,u=t.length-1;-1!==u;--u)e[t[u]]=0;for(u=i.length-1;-1!==u;--u)o=i[u],e[o]=n[o];for(u=t.length-1;-1!==u;--u){for(o=t[u],c=h[o],a=g(h[o+1],c),f=c;f!==a;++f)if(l[f]===o){e[o]/=p[f];break}for(m=e[o],f=c;f!==a;++f)s=l[f],s!==o&&(e[s]-=m*p[f])}return e},numeric.ccsDFS=function(r){this.k=Array(r),this.k1=Array(r),this.j=Array(r)},numeric.ccsDFS.prototype.dfs=function(r,n,e,i,t,u){var o,c,a,f=0,s=t.length,m=this.k,h=this.k1,l=this.j;if(0===i[r]){i[r]=1,l[0]=r,m[0]=c=n[r],h[0]=a=n[r+1];while(1)if(c>=a){if(t[s]=l[f],0===f)return;++s,--f,c=m[f],a=h[f]}else o=u[e[c]],0===i[o]?(i[o]=1,m[f]=c,++f,l[f]=o,c=n[o],h[f]=a=n[o+1]):++c}},numeric.ccsLPSolve=function(r,n,e,i,t,u,o){var c,a,f,s,m,h,l,p,d,g=r[0],y=r[1],v=r[2],x=(g.length,n[0]),b=n[1],w=n[2];for(a=x[t],f=x[t+1],i.length=0,c=a;c<f;++c)o.dfs(u[b[c]],g,y,e,i,u);for(c=i.length-1;-1!==c;--c)e[i[c]]=0;for(c=a;c!==f;++c)s=u[b[c]],e[s]=w[c];for(c=i.length-1;-1!==c;--c){for(s=i[c],m=g[s],h=g[s+1],l=m;l<h;++l)if(u[y[l]]===s){e[s]/=v[l];break}for(d=e[s],l=m;l<h;++l)p=u[y[l]],p!==s&&(e[p]-=d*v[l])}return e},numeric.ccsLUP1=function(r,n){var e,i,t,u,o,c,a,f=r[0].length-1,s=[numeric.rep([f+1],0),[],[]],m=[numeric.rep([f+1],0),[],[]],h=s[0],l=s[1],p=s[2],d=m[0],g=m[1],y=m[2],v=numeric.rep([f],0),x=numeric.rep([f],0),b=numeric.ccsLPSolve,w=(Math.max,Math.abs),M=numeric.linspace(0,f-1),k=numeric.linspace(0,f-1),j=new numeric.ccsDFS(f);for("undefined"===typeof n&&(n=1),e=0;e<f;++e){for(b(s,r,v,x,e,k,j),u=-1,o=-1,i=x.length-1;-1!==i;--i)t=x[i],t<=e||(c=w(v[t]),c>u&&(o=t,u=c));for(w(v[e])<n*u&&(i=M[e],u=M[o],M[e]=u,k[u]=e,M[o]=i,k[i]=o,u=v[e],v[e]=v[o],v[o]=u),u=h[e],o=d[e],a=v[e],l[u]=M[e],p[u]=1,++u,i=x.length-1;-1!==i;--i)t=x[i],c=v[t],x[i]=0,v[t]=0,t<=e?(g[o]=t,y[o]=c,++o):(l[u]=M[t],p[u]=c/a,++u);h[e+1]=u,d[e+1]=o}for(i=l.length-1;-1!==i;--i)l[i]=k[l[i]];return{L:s,U:m,P:M,Pinv:k}},numeric.ccsDFS0=function(r){this.k=Array(r),this.k1=Array(r),this.j=Array(r)},numeric.ccsDFS0.prototype.dfs=function(r,n,e,i,t,u,o){var c,a,f,s=0,m=t.length,h=this.k,l=this.k1,p=this.j;if(0===i[r]){i[r]=1,p[0]=r,h[0]=a=n[u[r]],l[0]=f=n[u[r]+1];while(1){if(isNaN(a))throw new Error("Ow!");if(a>=f){if(t[m]=u[p[s]],0===s)return;++m,--s,a=h[s],f=l[s]}else c=e[a],0===i[c]?(i[c]=1,h[s]=a,++s,p[s]=c,c=u[c],a=n[c],l[s]=f=n[c+1]):++a}}},numeric.ccsLPSolve0=function(r,n,e,i,t,u,o,c){var a,f,s,m,h,l,p,d,g,y=r[0],v=r[1],x=r[2],b=(y.length,n[0]),w=n[1],M=n[2];for(f=b[t],s=b[t+1],i.length=0,a=f;a<s;++a)c.dfs(w[a],y,v,e,i,u,o);for(a=i.length-1;-1!==a;--a)m=i[a],e[o[m]]=0;for(a=f;a!==s;++a)m=w[a],e[m]=M[a];for(a=i.length-1;-1!==a;--a){for(m=i[a],d=o[m],h=y[m],l=y[m+1],p=h;p<l;++p)if(v[p]===d){e[d]/=x[p];break}for(g=e[d],p=h;p<l;++p)e[v[p]]-=g*x[p];e[d]=g}},numeric.ccsLUP0=function(r,n){var e,i,t,u,o,c,a,f=r[0].length-1,s=[numeric.rep([f+1],0),[],[]],m=[numeric.rep([f+1],0),[],[]],h=s[0],l=s[1],p=s[2],d=m[0],g=m[1],y=m[2],v=numeric.rep([f],0),x=numeric.rep([f],0),b=numeric.ccsLPSolve0,w=(Math.max,Math.abs),M=numeric.linspace(0,f-1),k=numeric.linspace(0,f-1),j=new numeric.ccsDFS0(f);for("undefined"===typeof n&&(n=1),e=0;e<f;++e){for(b(s,r,v,x,e,k,M,j),u=-1,o=-1,i=x.length-1;-1!==i;--i)t=x[i],t<=e||(c=w(v[M[t]]),c>u&&(o=t,u=c));for(w(v[M[e]])<n*u&&(i=M[e],u=M[o],M[e]=u,k[u]=e,M[o]=i,k[i]=o),u=h[e],o=d[e],a=v[M[e]],l[u]=M[e],p[u]=1,++u,i=x.length-1;-1!==i;--i)t=x[i],c=v[M[t]],x[i]=0,v[M[t]]=0,t<=e?(g[o]=t,y[o]=c,++o):(l[u]=M[t],p[u]=c/a,++u);h[e+1]=u,d[e+1]=o}for(i=l.length-1;-1!==i;--i)l[i]=k[l[i]];return{L:s,U:m,P:M,Pinv:k}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(r){return[numeric.sup(r[1])+1,r[0].length-1]},numeric.ccsGetBlock=function(r,n,e){var i=numeric.ccsDim(r),t=i[0],u=i[1];"undefined"===typeof n?n=numeric.linspace(0,t-1):"number"===typeof n&&(n=[n]),"undefined"===typeof e?e=numeric.linspace(0,u-1):"number"===typeof e&&(e=[e]);var o,c,a,f,s,m=n.length,h=e.length,l=numeric.rep([u],0),p=[],d=[],g=[l,p,d],y=r[0],v=r[1],x=r[2],b=numeric.rep([t],0),w=0,M=numeric.rep([t],0);for(c=0;c<h;++c){f=e[c];var k=y[f],j=y[f+1];for(o=k;o<j;++o)a=v[o],M[a]=1,b[a]=x[o];for(o=0;o<m;++o)s=n[o],M[s]&&(p[w]=o,d[w]=b[n[o]],++w);for(o=k;o<j;++o)a=v[o],M[a]=0;l[c+1]=w}return g},numeric.ccsDot=function(r,n){var e,i,t,u,o,c,a,f,s,m,h,l=r[0],p=r[1],d=r[2],g=n[0],y=n[1],v=n[2],x=numeric.ccsDim(r),b=numeric.ccsDim(n),w=x[0],M=(x[1],b[1]),k=numeric.rep([w],0),j=numeric.rep([w],0),A=Array(w),T=numeric.rep([M],0),_=[],S=[],P=[T,_,S];for(t=0;t!==M;++t){for(u=g[t],o=g[t+1],s=0,i=u;i<o;++i)for(m=y[i],h=v[i],c=l[m],a=l[m+1],e=c;e<a;++e)f=p[e],0===j[f]&&(A[s]=f,j[f]=1,s+=1),k[f]=k[f]+d[e]*h;for(u=T[t],o=u+s,T[t+1]=o,i=s-1;-1!==i;--i)h=u+i,e=A[i],_[h]=e,S[h]=k[e],j[e]=0,k[e]=0;T[t+1]=T[t]+s}return P},numeric.ccsLUPSolve=function(r,n){var e=r.L,i=r.U,t=(r.P,n[0]),u=!1;"object"!==typeof t&&(n=[[0,n.length],numeric.linspace(0,n.length-1),n],t=n[0],u=!0);var o,c,a,f,s,m,h=n[1],l=n[2],p=e[0].length-1,d=t.length-1,g=numeric.rep([p],0),y=Array(p),v=numeric.rep([p],0),x=Array(p),b=numeric.rep([d+1],0),w=[],M=[],k=numeric.ccsTSolve,j=0;for(o=0;o<d;++o){for(s=0,a=t[o],f=t[o+1],c=a;c<f;++c)m=r.Pinv[h[c]],x[s]=m,v[m]=l[c],++s;for(x.length=s,k(e,v,g,x,y),c=x.length-1;-1!==c;--c)v[x[c]]=0;if(k(i,g,v,y,x),u)return v;for(c=y.length-1;-1!==c;--c)g[y[c]]=0;for(c=x.length-1;-1!==c;--c)m=x[c],w[j]=m,M[j]=v[m],v[m]=0,++j;b[o+1]=j}return[b,w,M]},numeric.ccsbinop=function(r,n){return"undefined"===typeof n&&(n=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+n+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+r+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(r){var n,e=r[0],i=r[1],t=r[2],u=numeric.sup(i)+1,o=e.length,c=numeric.rep([u],0),a=Array(o),f=Array(o),s=numeric.rep([u],0);for(n=0;n<o;++n)s[i[n]]++;for(n=0;n<u;++n)c[n+1]=c[n]+s[n];var m,h,l=c.slice(0);for(n=0;n<o;++n)h=i[n],m=l[h],a[m]=e[n],f[m]=t[n],l[h]=l[h]+1;return[c,a,f]},numeric.ccsGather=function(r){var n,e,i,t,u,o=r[0],c=r[1],a=r[2],f=o.length-1,s=c.length,m=Array(s),h=Array(s),l=Array(s);for(u=0,n=0;n<f;++n)for(i=o[n],t=o[n+1],e=i;e!==t;++e)h[u]=n,m[u]=c[e],l[u]=a[e],++u;return[m,h,l]},numeric.sdim=function r(n,e,i){if("undefined"===typeof e&&(e=[]),"object"!==typeof n)return e;var t;for(t in"undefined"===typeof i&&(i=0),i in e||(e[i]=0),n.length>e[i]&&(e[i]=n.length),n)n.hasOwnProperty(t)&&r(n[t],e,i+1);return e},numeric.sclone=function r(n,e,i){"undefined"===typeof e&&(e=0),"undefined"===typeof i&&(i=numeric.sdim(n).length);var t,u=Array(n.length);if(e===i-1){for(t in n)n.hasOwnProperty(t)&&(u[t]=n[t]);return u}for(t in n)n.hasOwnProperty(t)&&(u[t]=r(n[t],e+1,i));return u},numeric.sdiag=function(r){var n,e,i=r.length,t=Array(i);for(n=i-1;n>=1;n-=2)e=n-1,t[n]=[],t[n][n]=r[n],t[e]=[],t[e][e]=r[e];return 0===n&&(t[0]=[],t[0][0]=r[n]),t},numeric.sidentity=function(r){return numeric.sdiag(numeric.rep([r],1))},numeric.stranspose=function(r){var n,e,i,t=[];r.length;for(n in r)if(r.hasOwnProperty(n))for(e in i=r[n],i)i.hasOwnProperty(e)&&("object"!==typeof t[e]&&(t[e]=[]),t[e][n]=i[e]);return t},numeric.sLUP=function(r,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(r,n){var e,i,t,u,o,c,a,f=r.length,s=(n.length,numeric.stranspose(n)),m=s.length,h=Array(f);for(t=f-1;t>=0;t--){for(a=[],e=r[t],o=m-1;o>=0;o--){for(u in c=0,i=s[o],e)e.hasOwnProperty(u)&&u in i&&(c+=e[u]*i[u]);c&&(a[o]=c)}h[t]=a}return h},numeric.sdotMV=function(r,n){var e,i,t,u,o=r.length,c=Array(o);for(i=o-1;i>=0;i--){for(t in e=r[i],u=0,e)e.hasOwnProperty(t)&&n[t]&&(u+=e[t]*n[t]);u&&(c[i]=u)}return c},numeric.sdotVM=function(r,n){var e,i,t,u,o=[];for(e in r)if(r.hasOwnProperty(e))for(i in t=n[e],u=r[e],t)t.hasOwnProperty(i)&&(o[i]||(o[i]=0),o[i]+=u*t[i]);return o},numeric.sdotVV=function(r,n){var e,i=0;for(e in r)r[e]&&n[e]&&(i+=r[e]*n[e]);return i},numeric.sdot=function(r,n){var e=numeric.sdim(r).length,i=numeric.sdim(n).length,t=1e3*e+i;switch(t){case 0:return r*n;case 1001:return numeric.sdotVV(r,n);case 2001:return numeric.sdotMV(r,n);case 1002:return numeric.sdotVM(r,n);case 2002:return numeric.sdotMM(r,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+e+" and "+i)}},numeric.sscatter=function(r){var n,e,i,t,u=r[0].length,o=r.length,c=[];for(e=u-1;e>=0;--e)if(r[o-1][e]){for(t=c,i=0;i<o-2;i++)n=r[i][e],t[n]||(t[n]=[]),t=t[n];t[r[i][e]]=r[i+1][e]}return c},numeric.sgather=function r(n,e,i){var t,u,o;for(u in"undefined"===typeof e&&(e=[]),"undefined"===typeof i&&(i=[]),t=i.length,n)if(n.hasOwnProperty(u))if(i[t]=parseInt(u),o=n[u],"number"===typeof o){if(o){if(0===e.length)for(u=t+1;u>=0;--u)e[u]=[];for(u=t;u>=0;--u)e[u].push(i[u]);e[t+1].push(o)}}else r(o,e,i);return i.length>t&&i.pop(),e},numeric.cLU=function(r){var n,e,i,t,u,o,c=r[0],a=r[1],f=r[2],s=c.length,m=0;for(n=0;n<s;n++)c[n]>m&&(m=c[n]);m++;var h,l=Array(m),p=Array(m),d=numeric.rep([m],1/0),g=numeric.rep([m],-1/0);for(i=0;i<s;i++)n=c[i],e=a[i],e<d[n]&&(d[n]=e),e>g[n]&&(g[n]=e);for(n=0;n<m-1;n++)g[n]>g[n+1]&&(g[n+1]=g[n]);for(n=m-1;n>=1;n--)d[n]<d[n-1]&&(d[n-1]=d[n]);for(n=0;n<m;n++)p[n]=numeric.rep([g[n]-d[n]+1],0),l[n]=numeric.rep([n-d[n]],0),n-d[n]+1,g[n]-n+1;for(i=0;i<s;i++)n=c[i],p[n][a[i]-d[n]]=f[i];for(n=0;n<m-1;n++)for(t=n-d[n],x=p[n],e=n+1;d[e]<=n&&e<m;e++)if(u=n-d[e],o=g[n]-n,b=p[e],h=b[u]/x[t],h){for(i=1;i<=o;i++)b[i+u]-=h*x[i+t];l[e][n-d[e]]=h}var y,v,x=[],b=[],w=[],M=[],k=[],j=[];for(s=0,y=0,n=0;n<m;n++){for(t=d[n],u=g[n],v=p[n],e=n;e<=u;e++)v[e-t]&&(x[s]=n,b[s]=e,w[s]=v[e-t],s++);for(v=l[n],e=t;e<n;e++)v[e-t]&&(M[y]=n,k[y]=e,j[y]=v[e-t],y++);M[y]=n,k[y]=n,j[y]=1,y++}return{U:[x,b,w],L:[M,k,j]}},numeric.cLUsolve=function(r,n){var e,i,t=r.L,u=r.U,o=numeric.clone(n),c=t[0],a=t[1],f=t[2],s=u[0],m=u[1],h=u[2],l=s.length,p=(c.length,o.length);for(i=0,e=0;e<p;e++){while(a[i]<e)o[e]-=f[i]*o[a[i]],i++;i++}for(i=l-1,e=p-1;e>=0;e--){while(m[i]>e)o[e]-=h[i]*o[m[i]],i--;o[e]/=h[i],i--}return o},numeric.cgrid=function(r,n){"number"===typeof r&&(r=[r,r]);var e,i,t,u=numeric.rep(r,-1);if("function"!==typeof n)switch(n){case"L":n=function(n,e){return n>=r[0]/2||e<r[1]/2};break;default:n=function(r,n){return!0};break}for(t=0,e=1;e<r[0]-1;e++)for(i=1;i<r[1]-1;i++)n(e,i)&&(u[e][i]=t,t++);return u},numeric.cdelsq=function(r){var n,e,i,t,u,o=[[-1,0],[0,-1],[0,1],[1,0]],c=numeric.dim(r),a=c[0],f=c[1],s=[],m=[],h=[];for(n=1;n<a-1;n++)for(e=1;e<f-1;e++)if(!(r[n][e]<0)){for(i=0;i<4;i++)t=n+o[i][0],u=e+o[i][1],r[t][u]<0||(s.push(r[n][e]),m.push(r[t][u]),h.push(-1));s.push(r[n][e]),m.push(r[n][e]),h.push(4)}return[s,m,h]},numeric.cdotMV=function(r,n){var e,i,t,u=r[0],o=r[1],c=r[2],a=u.length;for(t=0,i=0;i<a;i++)u[i]>t&&(t=u[i]);for(t++,e=numeric.rep([t],0),i=0;i<a;i++)e[u[i]]+=c[i]*n[o[i]];return e},numeric.Spline=function(r,n,e,i,t){this.x=r,this.yl=n,this.yr=e,this.kl=i,this.kr=t},numeric.Spline.prototype._at=function(r,n){var e,i,t,u=this.x,o=this.yl,c=this.yr,a=this.kl,f=this.kr,s=numeric.add,m=numeric.sub,h=numeric.mul;e=m(h(a[n],u[n+1]-u[n]),m(c[n+1],o[n])),i=s(h(f[n+1],u[n]-u[n+1]),m(c[n+1],o[n])),t=(r-u[n])/(u[n+1]-u[n]);var l=t*(1-t);return s(s(s(h(1-t,o[n]),h(t,c[n+1])),h(e,l*(1-t))),h(i,l*t))},numeric.Spline.prototype.at=function(r){if("number"===typeof r){var n,e,i,t=this.x,u=t.length,o=Math.floor;n=0,e=u-1;while(e-n>1)i=o((n+e)/2),t[i]<=r?n=i:e=i;return this._at(r,n)}u=r.length;var c,a=Array(u);for(c=u-1;-1!==c;--c)a[c]=this.at(r[c]);return a},numeric.Spline.prototype.diff=function(){var r,n,e,i=this.x,t=this.yl,u=this.yr,o=this.kl,c=this.kr,a=t.length,f=o,s=c,m=Array(a),h=Array(a),l=numeric.add,p=numeric.mul,d=numeric.div,g=numeric.sub;for(r=a-1;-1!==r;--r)n=i[r+1]-i[r],e=g(u[r+1],t[r]),m[r]=d(l(p(e,6),p(o[r],-4*n),p(c[r+1],-2*n)),n*n),h[r+1]=d(l(p(e,-6),p(o[r],2*n),p(c[r+1],4*n)),n*n);return new numeric.Spline(i,f,s,m,h)},numeric.Spline.prototype.roots=function(){function r(r){return r*r}var n=[],e=this.x,i=this.yl,t=this.yr,u=this.kl,o=this.kr;"number"===typeof i[0]&&(i=[i],t=[t],u=[u],o=[o]);var c,a,f,s,m,h,l,p,d,g,y,v,x,b,w,M,k,j,A,T,_,S,P,q=i.length,V=e.length-1,N=(n=Array(q),Math.sqrt);for(c=0;c!==q;++c){for(s=i[c],m=t[c],h=u[c],l=o[c],p=[],a=0;a!==V;a++){for(a>0&&m[a]*s[a]<0&&p.push(e[a]),M=e[a+1]-e[a],e[a],y=s[a],v=m[a+1],d=h[a]/M,g=l[a+1]/M,w=r(d-g+3*(y-v))+12*g*y,x=g+3*y+2*d-3*v,b=3*(g+d+2*(y-v)),w<=0?(j=x/b,k=j>e[a]&&j<e[a+1]?[e[a],j,e[a+1]]:[e[a],e[a+1]]):(j=(x-N(w))/b,A=(x+N(w))/b,k=[e[a]],j>e[a]&&j<e[a+1]&&k.push(j),A>e[a]&&A<e[a+1]&&k.push(A),k.push(e[a+1])),_=k[0],j=this._at(_,a),f=0;f<k.length-1;f++)if(S=k[f+1],A=this._at(S,a),0!==j)if(0===A||j*A>0)_=S,j=A;else{var F=0;while(1){if(P=(j*S-A*_)/(j-A),P<=_||P>=S)break;if(T=this._at(P,a),T*A>0)S=P,A=T,-1===F&&(j*=.5),F=-1;else{if(!(T*j>0))break;_=P,j=T,1===F&&(A*=.5),F=1}}p.push(P),_=k[f+1],j=this._at(_,a)}else p.push(_),_=S,j=A;0===A&&p.push(S)}n[c]=p}return"number"===typeof this.yl[0]?n[0]:n},numeric.spline=function(r,n,e,i){var t,u=r.length,o=[],c=[],a=[],f=numeric.sub,s=numeric.mul,m=numeric.add;for(t=u-2;t>=0;t--)c[t]=r[t+1]-r[t],a[t]=f(n[t+1],n[t]);"string"!==typeof e&&"string"!==typeof i||(e=i="periodic");var h=[[],[],[]];switch(typeof e){case"undefined":o[0]=s(3/(c[0]*c[0]),a[0]),h[0].push(0,0),h[1].push(0,1),h[2].push(2/c[0],1/c[0]);break;case"string":o[0]=m(s(3/(c[u-2]*c[u-2]),a[u-2]),s(3/(c[0]*c[0]),a[0])),h[0].push(0,0,0),h[1].push(u-2,0,1),h[2].push(1/c[u-2],2/c[u-2]+2/c[0],1/c[0]);break;default:o[0]=e,h[0].push(0),h[1].push(0),h[2].push(1);break}for(t=1;t<u-1;t++)o[t]=m(s(3/(c[t-1]*c[t-1]),a[t-1]),s(3/(c[t]*c[t]),a[t])),h[0].push(t,t,t),h[1].push(t-1,t,t+1),h[2].push(1/c[t-1],2/c[t-1]+2/c[t],1/c[t]);switch(typeof i){case"undefined":o[u-1]=s(3/(c[u-2]*c[u-2]),a[u-2]),h[0].push(u-1,u-1),h[1].push(u-2,u-1),h[2].push(1/c[u-2],2/c[u-2]);break;case"string":h[1][h[1].length-1]=0;break;default:o[u-1]=i,h[0].push(u-1),h[1].push(u-1),h[2].push(1);break}o="number"!==typeof o[0]?numeric.transpose(o):[o];var l=Array(o.length);if("string"===typeof e)for(t=l.length-1;-1!==t;--t)l[t]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(h)),o[t]),l[t][u-1]=l[t][0];else for(t=l.length-1;-1!==t;--t)l[t]=numeric.cLUsolve(numeric.cLU(h),o[t]);return l="number"===typeof n[0]?l[0]:numeric.transpose(l),new numeric.Spline(r,n,n,l,l)},numeric.fftpow2=function r(n,e){var i=n.length;if(1!==i){var t,u,o=Math.cos,c=Math.sin,a=Array(i/2),f=Array(i/2),s=Array(i/2),m=Array(i/2);for(u=i/2,t=i-1;-1!==t;--t)--u,s[u]=n[t],m[u]=e[t],--t,a[u]=n[t],f[u]=e[t];r(a,f),r(s,m),u=i/2;var h,l,p,d=-6.283185307179586/i;for(t=i-1;-1!==t;--t)--u,-1===u&&(u=i/2-1),h=d*t,l=o(h),p=c(h),n[t]=a[u]+l*s[u]-p*m[u],e[t]=f[u]+l*m[u]+p*s[u]}},numeric._ifftpow2=function r(n,e){var i=n.length;if(1!==i){var t,u,o=Math.cos,c=Math.sin,a=Array(i/2),f=Array(i/2),s=Array(i/2),m=Array(i/2);for(u=i/2,t=i-1;-1!==t;--t)--u,s[u]=n[t],m[u]=e[t],--t,a[u]=n[t],f[u]=e[t];r(a,f),r(s,m),u=i/2;var h,l,p,d=6.283185307179586/i;for(t=i-1;-1!==t;--t)--u,-1===u&&(u=i/2-1),h=d*t,l=o(h),p=c(h),n[t]=a[u]+l*s[u]-p*m[u],e[t]=f[u]+l*m[u]+p*s[u]}},numeric.ifftpow2=function(r,n){numeric._ifftpow2(r,n),numeric.diveq(r,r.length),numeric.diveq(n,n.length)},numeric.convpow2=function(r,n,e,i){numeric.fftpow2(r,n),numeric.fftpow2(e,i);var t,u,o,c,a,f=r.length;for(t=f-1;-1!==t;--t)u=r[t],c=n[t],o=e[t],a=i[t],r[t]=u*o-c*a,n[t]=u*a+c*o;numeric.ifftpow2(r,n)},numeric.T.prototype.fft=function(){var r,n,e=this.x,i=this.y,t=e.length,u=Math.log,o=u(2),c=Math.ceil(u(2*t-1)/o),a=Math.pow(2,c),f=numeric.rep([a],0),s=numeric.rep([a],0),m=Math.cos,h=Math.sin,l=-3.141592653589793/t,p=numeric.rep([a],0),d=numeric.rep([a],0);Math.floor(t/2);for(r=0;r<t;r++)p[r]=e[r];if("undefined"!==typeof i)for(r=0;r<t;r++)d[r]=i[r];for(f[0]=1,r=1;r<=a/2;r++)n=l*r*r,f[r]=m(n),s[r]=h(n),f[a-r]=m(n),s[a-r]=h(n);var g=new numeric.T(p,d),y=new numeric.T(f,s);return g=g.mul(y),numeric.convpow2(g.x,g.y,numeric.clone(y.x),numeric.neg(y.y)),g=g.mul(y),g.x.length=t,g.y.length=t,g},numeric.T.prototype.ifft=function(){var r,n,e=this.x,i=this.y,t=e.length,u=Math.log,o=u(2),c=Math.ceil(u(2*t-1)/o),a=Math.pow(2,c),f=numeric.rep([a],0),s=numeric.rep([a],0),m=Math.cos,h=Math.sin,l=3.141592653589793/t,p=numeric.rep([a],0),d=numeric.rep([a],0);Math.floor(t/2);for(r=0;r<t;r++)p[r]=e[r];if("undefined"!==typeof i)for(r=0;r<t;r++)d[r]=i[r];for(f[0]=1,r=1;r<=a/2;r++)n=l*r*r,f[r]=m(n),s[r]=h(n),f[a-r]=m(n),s[a-r]=h(n);var g=new numeric.T(p,d),y=new numeric.T(f,s);return g=g.mul(y),numeric.convpow2(g.x,g.y,numeric.clone(y.x),numeric.neg(y.y)),g=g.mul(y),g.x.length=t,g.y.length=t,g.div(t)},numeric.gradient=function(r,n){var e=n.length,i=r(n);if(isNaN(i))throw new Error("gradient: f(x) is a NaN!");var t,u,o,c,a,f,s,m,h,l,p=Math.max,d=numeric.clone(n),g=Array(e),y=(numeric.div,numeric.sub,p=Math.max,.001),v=Math.abs,x=Math.min,b=0;for(t=0;t<e;t++){var w=p(1e-6*i,1e-8);while(1){if(++b,b>20)throw new Error("Numerical gradient fails");if(d[t]=n[t]+w,u=r(d),d[t]=n[t]-w,o=r(d),d[t]=n[t],isNaN(u)||isNaN(o))w/=16;else{if(g[t]=(u-o)/(2*w),a=n[t]-w,f=n[t],s=n[t]+w,m=(u-i)/w,h=(i-o)/w,l=p(v(g[t]),v(i),v(u),v(o),v(a),v(f),v(s),1e-8),c=x(p(v(m-g[t]),v(h-g[t]),v(m-h))/l,w/l),!(c>y))break;w/=16}}}return g},numeric.uncmin=function(r,n,e,i,t,u,o){var c=numeric.gradient;"undefined"===typeof o&&(o={}),"undefined"===typeof e&&(e=1e-8),"undefined"===typeof i&&(i=function(n){return c(r,n)}),"undefined"===typeof t&&(t=1e3),n=numeric.clone(n);var a,f,s=n.length,m=r(n);if(isNaN(m))throw new Error("uncmin: f(x0) is a NaN!");var h=Math.max,l=numeric.norm2;e=h(e,numeric.epsilon);var p,d,g,y,v,x,b,w,M,k,j=o.Hinv||numeric.identity(s),A=numeric.dot,T=(numeric.inv,numeric.sub),_=numeric.add,S=numeric.tensor,P=numeric.div,q=numeric.mul,V=numeric.all,N=numeric.isFinite,F=numeric.neg,L=0,O="";d=i(n);while(L<t){if("function"===typeof u&&u(L,n,m,d,j)){O="Callback returned true";break}if(!V(N(d))){O="Gradient has Infinity or NaN";break}if(p=F(A(j,d)),!V(N(p))){O="Search direction has Infinity or NaN";break}if(k=l(p),k<e){O="Newton step smaller than tol";break}M=1,f=A(d,p),v=n;while(L<t){if(M*k<e)break;if(y=q(p,M),v=_(n,y),a=r(v),!(a-m>=.1*M*f||isNaN(a)))break;M*=.5,++L}if(M*k<e){O="Line search step size smaller than tol";break}if(L===t){O="maxit reached during line search";break}g=i(v),x=T(g,d),w=A(x,y),b=A(j,x),j=T(_(j,q((w+A(x,b))/(w*w),S(y,y))),P(_(S(b,y),S(y,b)),w)),n=v,m=a,d=g,++L}return{solution:n,f:m,gradient:d,invHessian:j,iterations:L,message:O}},numeric.Dopri=function(r,n,e,i,t,u,o){this.x=r,this.y=n,this.f=e,this.ymid=i,this.iterations=t,this.events=o,this.message=u},numeric.Dopri.prototype._at=function(r,n){function e(r){return r*r}var i,t,u,o,c,a,f,s,m,h,l=this,p=l.x,d=l.y,g=l.f,y=l.ymid,v=(p.length,Math.floor,.5),x=numeric.add,b=numeric.mul,w=numeric.sub;return i=p[n],t=p[n+1],o=d[n],c=d[n+1],f=t-i,u=i+v*f,a=y[n],s=w(g[n],b(o,1/(i-u)+2/(i-t))),m=w(g[n+1],b(c,1/(t-u)+2/(t-i))),h=[e(r-t)*(r-u)/e(i-t)/(i-u),e(r-i)*e(r-t)/e(i-u)/e(t-u),e(r-i)*(r-u)/e(t-i)/(t-u),(r-i)*e(r-t)*(r-u)/e(i-t)/(i-u),(r-t)*e(r-i)*(r-u)/e(i-t)/(t-u)],x(x(x(x(b(o,h[0]),b(a,h[1])),b(c,h[2])),b(s,h[3])),b(m,h[4]))},numeric.Dopri.prototype.at=function(r){var n,e,i,t=Math.floor;if("number"!==typeof r){var u=r.length,o=Array(u);for(n=u-1;-1!==n;--n)o[n]=this.at(r[n]);return o}var c=this.x;n=0,e=c.length-1;while(e-n>1)i=t(.5*(n+e)),c[i]<=r?n=i:e=i;return this._at(r,n)},numeric.dopri=function(r,n,e,i,t,u,o){"undefined"===typeof t&&(t=1e-6),"undefined"===typeof u&&(u=1e3);var c,a,f,s,m,h,l,p,d,g,y,v,x,b=[r],w=[e],M=[i(r,e)],k=[],j=.2,A=[3/40,9/40],T=[44/45,-56/15,32/9],_=[19372/6561,-25360/2187,64448/6561,-212/729],S=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],P=[35/384,0,500/1113,125/192,-2187/6784,11/84],q=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,5618549.5/235043384],V=[.2,.3,.8,8/9,1,1],N=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],F=0,L=(n-r)/10,O=0,E=numeric.add,R=numeric.mul,U=(Math.max,Math.min),D=Math.abs,H=numeric.norminf,I=Math.pow,B=numeric.any,X=numeric.lt,Y=numeric.and,W=(numeric.sub,new numeric.Dopri(b,w,M,k,-1,""));"function"===typeof o&&(y=o(r,e));while(r<n&&O<u)if(++O,r+L>n&&(L=n-r),c=i(r+V[0]*L,E(e,R(j*L,M[F]))),a=i(r+V[1]*L,E(E(e,R(A[0]*L,M[F])),R(A[1]*L,c))),f=i(r+V[2]*L,E(E(E(e,R(T[0]*L,M[F])),R(T[1]*L,c)),R(T[2]*L,a))),s=i(r+V[3]*L,E(E(E(E(e,R(_[0]*L,M[F])),R(_[1]*L,c)),R(_[2]*L,a)),R(_[3]*L,f))),m=i(r+V[4]*L,E(E(E(E(E(e,R(S[0]*L,M[F])),R(S[1]*L,c)),R(S[2]*L,a)),R(S[3]*L,f)),R(S[4]*L,s))),d=E(E(E(E(E(e,R(M[F],L*P[0])),R(a,L*P[2])),R(f,L*P[3])),R(s,L*P[4])),R(m,L*P[5])),h=i(r+L,d),l=E(E(E(E(E(R(M[F],L*N[0]),R(a,L*N[2])),R(f,L*N[3])),R(s,L*N[4])),R(m,L*N[5])),R(h,L*N[6])),g="number"===typeof l?D(l):H(l),g>t){if(L=.2*L*I(t/g,.25),r+L===r){W.msg="Step size became too small";break}}else{if(k[F]=E(E(E(E(E(E(e,R(M[F],L*q[0])),R(a,L*q[2])),R(f,L*q[3])),R(s,L*q[4])),R(m,L*q[5])),R(h,L*q[6])),++F,b[F]=r+L,w[F]=d,M[F]=h,"function"===typeof o){var Q,C,Z=r,$=r+.5*L;if(v=o($,k[F-1]),x=Y(X(y,0),X(0,v)),B(x)||(Z=$,$=r+L,y=v,v=o($,d),x=Y(X(y,0),X(0,v))),B(x)){var z,G,J=0,K=1,rr=1;while(1){if("number"===typeof y)C=(rr*v*Z-K*y*$)/(rr*v-K*y);else for(C=$,p=y.length-1;-1!==p;--p)y[p]<0&&v[p]>0&&(C=U(C,(rr*v[p]*Z-K*y[p]*$)/(rr*v[p]-K*y[p])));if(C<=Z||C>=$)break;Q=W._at(C,F-1),G=o(C,Q),z=Y(X(y,0),X(0,G)),B(z)?($=C,v=G,x=z,rr=1,-1===J?K*=.5:K=1,J=-1):(Z=C,y=G,K=1,1===J?rr*=.5:rr=1,J=1)}return d=W._at(.5*(r+C),F-1),W.f[F]=i(C,Q),W.x[F]=C,W.y[F]=Q,W.ymid[F-1]=d,W.events=x,W.iterations=O,W}}r+=L,e=d,y=v,L=U(.8*L*I(t/g,.25),4*L)}return W.iterations=O,W},numeric.LU=function(r,n){n=n||!1;var e,i,t,u,o,c,a,f,s,m=Math.abs,h=r.length,l=h-1,p=new Array(h);for(n||(r=numeric.clone(r)),t=0;t<h;++t){for(a=t,c=r[t],s=m(c[t]),i=t+1;i<h;++i)u=m(r[i][t]),s<u&&(s=u,a=i);for(p[t]=a,a!=t&&(r[t]=r[a],r[a]=c,c=r[t]),o=c[t],e=t+1;e<h;++e)r[e][t]/=o;for(e=t+1;e<h;++e){for(f=r[e],i=t+1;i<l;++i)f[i]-=f[t]*c[i],++i,f[i]-=f[t]*c[i];i===l&&(f[i]-=f[t]*c[i])}}return{LU:r,P:p}},numeric.LUsolve=function(r,n){var e,i,t,u,o,c=r.LU,a=c.length,f=numeric.clone(n),s=r.P;for(e=a-1;-1!==e;--e)f[e]=n[e];for(e=0;e<a;++e)for(t=s[e],s[e]!==e&&(o=f[e],f[e]=f[t],f[t]=o),u=c[e],i=0;i<e;++i)f[e]-=f[i]*u[i];for(e=a-1;e>=0;--e){for(u=c[e],i=e+1;i<a;++i)f[e]-=f[i]*u[i];f[e]/=u[e]}return f},numeric.solve=function(r,n,e){return numeric.LUsolve(numeric.LU(r,e),n)},numeric.echelonize=function(r){var n,e,i,t,u,o,c,a,f=numeric.dim(r),s=f[0],m=f[1],h=numeric.identity(s),l=Array(s),p=Math.abs,d=numeric.diveq;for(r=numeric.clone(r),n=0;n<s;++n){for(i=0,u=r[n],o=h[n],e=1;e<m;++e)p(u[i])<p(u[e])&&(i=e);for(l[n]=i,d(o,u[i]),d(u,u[i]),e=0;e<s;++e)if(e!==n){for(c=r[e],a=c[i],t=m-1;-1!==t;--t)c[t]-=u[t]*a;for(c=h[e],t=s-1;-1!==t;--t)c[t]-=o[t]*a}}return{I:h,A:r,P:l}},numeric.__solveLP=function(r,n,e,i,t,u,o){var c,a,f,s,m=numeric.sum,h=(numeric.log,numeric.mul),l=numeric.sub,p=numeric.dot,d=numeric.div,g=numeric.add,y=r.length,v=e.length,x=!1,b=0,w=1,M=(numeric.transpose(n),numeric.svd,numeric.transpose),k=(numeric.leq,Math.sqrt),j=Math.abs,A=(numeric.muleq,numeric.norminf,numeric.any,Math.min),T=numeric.all,_=numeric.gt,S=Array(y),P=Array(v),q=(numeric.rep([v],1),numeric.solve),V=l(e,p(n,u)),N=p(r,r);for(f=b;f<t;++f){var F,L;for(F=v-1;-1!==F;--F)P[F]=d(n[F],V[F]);var O=M(P);for(F=y-1;-1!==F;--F)S[F]=m(O[F]);w=.25*j(N/p(r,S));var E=100*k(N/p(S,S));for((!isFinite(w)||w>E)&&(w=E),s=g(r,h(w,S)),a=p(O,P),F=y-1;-1!==F;--F)a[F][F]+=1;L=q(a,d(s,w),!0);var R=d(V,p(n,L)),U=1;for(F=v-1;-1!==F;--F)R[F]<0&&(U=A(U,-.999*R[F]));if(c=l(u,h(L,U)),V=l(e,p(n,c)),!T(_(V,0)))return{solution:u,message:"",iterations:f};if(u=c,w<i)return{solution:c,message:"",iterations:f};if(o){var D=p(r,s),H=p(n,s);for(x=!0,F=v-1;-1!==F;--F)if(D*H[F]<0){x=!1;break}}else x=!(u[y-1]>=0);if(x)return{solution:c,message:"Unbounded",iterations:f}}return{solution:u,message:"maximum iteration count exceeded",iterations:f}},numeric._solveLP=function(r,n,e,i,t){var u=r.length,o=e.length,c=(numeric.sum,numeric.log,numeric.mul,numeric.sub),a=numeric.dot,f=(numeric.div,numeric.add,numeric.rep([u],0).concat([1])),s=numeric.rep([o,1],-1),m=numeric.blockMatrix([[n,s]]),h=e,l=numeric.rep([u],0).concat(Math.max(0,numeric.sup(numeric.neg(e)))+1),p=numeric.__solveLP(f,m,h,i,t,l,!1),d=numeric.clone(p.solution);d.length=u;var g=numeric.inf(c(e,a(n,d)));if(g<0)return{solution:NaN,message:"Infeasible",iterations:p.iterations};var y=numeric.__solveLP(r,n,e,i,t-p.iterations,d,!0);return y.iterations+=p.iterations,y},numeric.solveLP=function(r,n,e,i,t,u,o){if("undefined"===typeof o&&(o=1e3),"undefined"===typeof u&&(u=numeric.epsilon),"undefined"===typeof i)return numeric._solveLP(r,n,e,u,o);var c,a=i.length,f=i[0].length,s=n.length,m=numeric.echelonize(i),h=numeric.rep([f],0),l=m.P,p=[];for(c=l.length-1;-1!==c;--c)h[l[c]]=1;for(c=f-1;-1!==c;--c)0===h[c]&&p.push(c);var d=numeric.getRange,g=numeric.linspace(0,a-1),y=numeric.linspace(0,s-1),v=d(i,g,p),x=d(n,y,l),b=d(n,y,p),w=numeric.dot,M=numeric.sub,k=w(x,m.I),j=M(b,w(k,v)),A=M(e,w(k,t)),T=Array(l.length),_=Array(p.length);for(c=l.length-1;-1!==c;--c)T[c]=r[l[c]];for(c=p.length-1;-1!==c;--c)_[c]=r[p[c]];var S=M(_,w(T,w(m.I,v))),P=numeric._solveLP(S,j,A,u,o),q=P.solution;if(q!==q)return P;var V=w(m.I,M(t,w(v,q))),N=Array(r.length);for(c=l.length-1;-1!==c;--c)N[l[c]]=V[c];for(c=p.length-1;-1!==c;--c)N[p[c]]=q[c];return{solution:N,message:P.message,iterations:P.iterations}},numeric.MPStoLP=function(r){r instanceof String&&r.split("\n");var n,e,i,t,u=0,o=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],c=r.length,a=0,f={},s=[],m=0,h={},l=0,p=[],d=[],g=[];function y(e){throw new Error("MPStoLP: "+e+"\nLine "+n+": "+r[n]+"\nCurrent state: "+o[u]+"\n")}for(n=0;n<c;++n){i=r[n];var v=i.match(/\S*/g),x=[];for(e=0;e<v.length;++e)""!==v[e]&&x.push(v[e]);if(0!==x.length){for(e=0;e<o.length;++e)if(i.substr(0,o[e].length)===o[e])break;if(e<o.length){if(u=e,1===e&&(t=x[1]),6===e)return{name:t,c:p,A:numeric.transpose(d),b:g,rows:f,vars:h}}else switch(u){case 0:case 1:y("Unexpected line");case 2:switch(x[0]){case"N":0===a?a=x[1]:y("Two or more N rows");break;case"L":f[x[1]]=m,s[m]=1,g[m]=0,++m;break;case"G":f[x[1]]=m,s[m]=-1,g[m]=0,++m;break;case"E":f[x[1]]=m,s[m]=0,g[m]=0,++m;break;default:y("Parse error "+numeric.prettyPrint(x))}break;case 3:h.hasOwnProperty(x[0])||(h[x[0]]=l,p[l]=0,d[l]=numeric.rep([m],0),++l);var b=h[x[0]];for(e=1;e<x.length;e+=2)if(x[e]!==a){var w=f[x[e]];d[b][w]=(s[w]<0?-1:1)*parseFloat(x[e+1])}else p[b]=parseFloat(x[e+1]);break;case 4:for(e=1;e<x.length;e+=2)g[f[x[e]]]=(s[f[x[e]]]<0?-1:1)*parseFloat(x[e+1]);break;case 5:break;case 6:y("Internal error")}}}y("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(r,n,e,i,t,u,o){function c(r){var n,i,t=this,u=r.length,o=0,c=t.i=t.j=t.m=0;t.S=[],t.c=[],u||(r=[u++]);while(o<e)t.S[o]=o++;for(o=0;o<e;o++)n=t.S[o],c=s(c+n+r[o%u]),i=t.S[c],t.S[o]=i,t.S[c]=n;t.g=function(r){var n=t.S,i=s(t.i+1),u=n[i],o=s(t.j+u),c=n[o];n[i]=c,n[o]=u;var a=n[s(u+c)];while(--r)i=s(i+1),u=n[i],o=s(o+u),c=n[o],n[i]=c,n[o]=u,a=a*e+n[s(u+c)];return t.i=i,t.j=o,a},t.g(e)}function a(r,n,e,i,t){if(e=[],t=typeof r,n&&"object"==t)for(i in r)if(i.indexOf("S")<5)try{e.push(a(r[i],n-1))}catch(u){}return e.length?e:r+("string"!=t?"\0":"")}function f(r,n,e,i){for(r+="",e=0,i=0;i<r.length;i++)n[s(i)]=s((e^=19*n[s(i)])+r.charCodeAt(i));for(i in r="",n)r+=String.fromCharCode(n[i]);return r}function s(r){return r&e-1}n["seedrandom"]=function(s,m){var h,l=[];return s=f(a(m?[s,r]:arguments.length?s:[(new Date).getTime(),r,window],3),l),h=new c(l),f(h.S,r),n["random"]=function(){var r=h.g(i),n=o,c=0;while(r<t)r=(r+c)*e,n*=e,c=h.g(1);while(r>=u)r/=2,n/=2,c>>>=1;return(r+c)/n},s},o=n.pow(e,i),t=n.pow(2,t),u=2*t,f(n.random(),r)}([],numeric.seedrandom,256,6,52),function(r){function n(r){if("object"!==typeof r)return r;var e,i=[],t=r.length;for(e=0;e<t;e++)i[e+1]=n(r[e]);return i}function e(r){if("object"!==typeof r)return r;var n,i=[],t=r.length;for(n=1;n<t;n++)i[n-1]=e(r[n]);return i}function i(r,n,e){var i,t,u,o,c;for(u=1;u<=e;u+=1){for(r[u][u]=1/r[u][u],c=-r[u][u],i=1;i<u;i+=1)r[i][u]=c*r[i][u];if(o=u+1,e<o)break;for(t=o;t<=e;t+=1)for(c=r[u][t],r[u][t]=0,i=1;i<=u;i+=1)r[i][t]=r[i][t]+c*r[i][u]}}function t(r,n,e,i){var t,u,o,c;for(u=1;u<=e;u+=1){for(c=0,t=1;t<u;t+=1)c+=r[t][u]*i[t];i[u]=(i[u]-c)/r[u][u]}for(o=1;o<=e;o+=1)for(u=e+1-o,i[u]=i[u]/r[u][u],c=-i[u],t=1;t<u;t+=1)i[t]=i[t]+c*r[t][u]}function u(r,n,e,i){var t,u,o,c,a,f;for(u=1;u<=e;u+=1){if(i[1]=u,f=0,o=u-1,o<1){if(f=r[u][u]-f,f<=0)break;r[u][u]=Math.sqrt(f)}else{for(c=1;c<=o;c+=1){for(a=r[c][u],t=1;t<c;t+=1)a-=r[t][u]*r[t][c];a/=r[c][c],r[c][u]=a,f+=a*a}if(f=r[u][u]-f,f<=0)break;r[u][u]=Math.sqrt(f)}i[1]=0}}function o(r,n,e,o,c,a,f,s,m,h,l,p,d,g,y,v){var x,b,w,M,k,j,A,T,_,S,P,q,V,N,F,L,O,E,R,U,D,H,I,B,X,Y,W;V=Math.min(o,h),w=2*o+V*(V+5)/2+2*h+1,B=1e-60;do{B+=B,X=1+.1*B,Y=1+.2*B}while(X<=1||Y<=1);for(x=1;x<=o;x+=1)y[x]=n[x];for(x=o+1;x<=w;x+=1)y[x]=0;for(x=1;x<=h;x+=1)p[x]=0;if(k=[],0===v[1]){if(u(r,e,o,k),0!==k[1])return void(v[1]=2);t(r,e,o,n),i(r,e,o)}else{for(b=1;b<=o;b+=1)for(c[b]=0,x=1;x<=b;x+=1)c[b]=c[b]+r[x][b]*n[x];for(b=1;b<=o;b+=1)for(n[b]=0,x=b;x<=o;x+=1)n[b]=n[b]+r[b][x]*c[x]}for(a[1]=0,b=1;b<=o;b+=1)for(c[b]=n[b],a[1]=a[1]+y[b]*c[b],y[b]=0,x=b+1;x<=o;x+=1)r[x][b]=0;for(a[1]=-a[1]/2,v[1]=0,A=o,T=A+o,P=T+V,_=P+V+1,S=_+V*(V+1)/2,N=S+h,x=1;x<=h;x+=1){for(L=0,b=1;b<=o;b+=1)L+=f[b][x]*f[b][x];y[N+x]=Math.sqrt(L)}function Q(){for(g[1]=g[1]+1,w=S,x=1;x<=h;x+=1){for(w+=1,L=-s[x],b=1;b<=o;b+=1)L+=f[b][x]*c[b];if(Math.abs(L)<B&&(L=0),x>l)y[w]=L;else if(y[w]=-Math.abs(L),L>0){for(b=1;b<=o;b+=1)f[b][x]=-f[b][x];s[x]=-s[x]}}for(x=1;x<=d;x+=1)y[S+p[x]]=0;for(q=0,F=0,x=1;x<=h;x+=1)y[S+x]<F*y[N+x]&&(q=x,F=y[S+x]/y[N+x]);return 0===q?999:0}function C(){for(x=1;x<=o;x+=1){for(L=0,b=1;b<=o;b+=1)L+=r[b][x]*f[b][q];y[x]=L}for(M=A,x=1;x<=o;x+=1)y[M+x]=0;for(b=d+1;b<=o;b+=1)for(x=1;x<=o;x+=1)y[M+x]=y[M+x]+r[x][b]*y[b];for(H=!0,x=d;x>=1;x-=1){for(L=y[x],w=_+x*(x+3)/2,M=w-x,b=x+1;b<=d;b+=1)L-=y[w]*y[T+b],w+=b;if(L/=y[M],y[T+x]=L,p[x]<l)break;if(L<0)break;H=!1,j=x}if(!H)for(O=y[P+j]/y[T+j],x=1;x<=d;x+=1){if(p[x]<l)break;if(y[T+x]<0)break;F=y[P+x]/y[T+x],F<O&&(O=F,j=x)}for(L=0,x=A+1;x<=A+o;x+=1)L+=y[x]*y[x];if(Math.abs(L)<=B){if(H)return v[1]=1,999;for(x=1;x<=d;x+=1)y[P+x]=y[P+x]-O*y[T+x];return y[P+d+1]=y[P+d+1]+O,700}for(L=0,x=1;x<=o;x+=1)L+=y[A+x]*f[x][q];for(E=-y[S+q]/L,I=!0,H||O<E&&(E=O,I=!1),x=1;x<=o;x+=1)c[x]=c[x]+E*y[A+x],Math.abs(c[x])<B&&(c[x]=0);for(a[1]=a[1]+E*L*(E/2+y[P+d+1]),x=1;x<=d;x+=1)y[P+x]=y[P+x]-E*y[T+x];if(y[P+d+1]=y[P+d+1]+E,!I){for(L=-s[q],b=1;b<=o;b+=1)L+=c[b]*f[b][q];if(q>l)y[S+q]=L;else if(y[S+q]=-Math.abs(L),L>0){for(b=1;b<=o;b+=1)f[b][q]=-f[b][q];s[q]=-s[q]}return 700}for(d+=1,p[d]=q,w=_+(d-1)*d/2+1,x=1;x<=d-1;x+=1)y[w]=y[x],w+=1;if(d===o)y[w]=y[o];else{for(x=o;x>=d+1;x-=1){if(0===y[x])break;if(R=Math.max(Math.abs(y[x-1]),Math.abs(y[x])),U=Math.min(Math.abs(y[x-1]),Math.abs(y[x])),F=y[x-1]>=0?Math.abs(R*Math.sqrt(1+U*U/(R*R))):-Math.abs(R*Math.sqrt(1+U*U/(R*R))),R=y[x-1]/F,U=y[x]/F,1===R)break;if(0===R)for(y[x-1]=U*F,b=1;b<=o;b+=1)F=r[b][x-1],r[b][x-1]=r[b][x],r[b][x]=F;else for(y[x-1]=F,D=U/(1+R),b=1;b<=o;b+=1)F=R*r[b][x-1]+U*r[b][x],r[b][x]=D*(r[b][x-1]+F)-r[b][x],r[b][x-1]=F}y[w]=y[d]}return 0}function Z(){if(w=_+j*(j+1)/2+1,M=w+j,0===y[M])return 798;if(R=Math.max(Math.abs(y[M-1]),Math.abs(y[M])),U=Math.min(Math.abs(y[M-1]),Math.abs(y[M])),F=y[M-1]>=0?Math.abs(R*Math.sqrt(1+U*U/(R*R))):-Math.abs(R*Math.sqrt(1+U*U/(R*R))),R=y[M-1]/F,U=y[M]/F,1===R)return 798;if(0===R){for(x=j+1;x<=d;x+=1)F=y[M-1],y[M-1]=y[M],y[M]=F,M+=x;for(x=1;x<=o;x+=1)F=r[x][j],r[x][j]=r[x][j+1],r[x][j+1]=F}else{for(D=U/(1+R),x=j+1;x<=d;x+=1)F=R*y[M-1]+U*y[M],y[M]=D*(y[M-1]+F)-y[M],y[M-1]=F,M+=x;for(x=1;x<=o;x+=1)F=R*r[x][j]+U*r[x][j+1],r[x][j+1]=D*(r[x][j]+F)-r[x][j+1],r[x][j]=F}return 0}function $(){for(M=w-j,x=1;x<=j;x+=1)y[M]=y[w],w+=1,M+=1;return y[P+j]=y[P+j+1],p[j]=p[j+1],j+=1,j<d?797:0}function z(){return y[P+d]=y[P+d+1],y[P+d+1]=0,p[d]=0,d-=1,g[2]=g[2]+1,0}d=0,g[1]=0,g[2]=0,W=0;while(1){if(W=Q(),999===W)return;while(1){if(W=C(),0===W)break;if(999===W)return;if(700===W)if(j===d)z();else{while(1)if(Z(),W=$(),797!==W)break;z()}}}}function c(r,i,t,u,c,a){r=n(r),i=n(i),t=n(t);var f,s,m,h,l,p,d=[],g=[],y=[],v=[],x=[];if(c=c||0,a=a?n(a):[void 0,0],u=u?n(u):[],s=r.length-1,m=t[1].length-1,!u)for(f=1;f<=m;f+=1)u[f]=0;for(f=1;f<=m;f+=1)g[f]=0;for(h=0,l=Math.min(s,m),f=1;f<=s;f+=1)y[f]=0;for(d[1]=0,f=1;f<=2*s+l*(l+5)/2+2*m+1;f+=1)v[f]=0;for(f=1;f<=2;f+=1)x[f]=0;return o(r,i,s,s,y,d,t,u,s,m,c,g,h,x,v,a),p="",1===a[1]&&(p="constraints are inconsistent, no solution!"),2===a[1]&&(p="matrix D in quadratic function is not positive definite!"),{solution:e(y),value:e(d),unconstrained_solution:e(i),iterations:e(x),iact:e(g),message:p}}r.solveQP=c}(numeric),numeric.svd=function(r){var n,e=numeric.epsilon,i=1e-64/e,t=50,u=0,o=0,c=0,a=0,f=0,s=numeric.clone(r),m=s.length,h=s[0].length;if(m<h)throw"Need more rows than columns";var l=new Array(h),p=new Array(h);for(o=0;o<h;o++)l[o]=p[o]=0;var d=numeric.rep([h,h],0);function g(r,n){return r=Math.abs(r),n=Math.abs(n),r>n?r*Math.sqrt(1+n*n/r/r):0==n?r:n*Math.sqrt(1+r*r/n/n)}var y=0,v=0,x=0,b=0,w=0,M=0,k=0;for(o=0;o<h;o++){for(l[o]=v,k=0,f=o+1,c=o;c<m;c++)k+=s[c][o]*s[c][o];if(k<=i)v=0;else for(y=s[o][o],v=Math.sqrt(k),y>=0&&(v=-v),x=y*v-k,s[o][o]=y-v,c=f;c<h;c++){for(k=0,a=o;a<m;a++)k+=s[a][o]*s[a][c];for(y=k/x,a=o;a<m;a++)s[a][c]+=y*s[a][o]}for(p[o]=v,k=0,c=f;c<h;c++)k+=s[o][c]*s[o][c];if(k<=i)v=0;else{for(y=s[o][o+1],v=Math.sqrt(k),y>=0&&(v=-v),x=y*v-k,s[o][o+1]=y-v,c=f;c<h;c++)l[c]=s[o][c]/x;for(c=f;c<m;c++){for(k=0,a=f;a<h;a++)k+=s[c][a]*s[o][a];for(a=f;a<h;a++)s[c][a]+=k*l[a]}}w=Math.abs(p[o])+Math.abs(l[o]),w>b&&(b=w)}for(o=h-1;-1!=o;o+=-1){if(0!=v){for(x=v*s[o][o+1],c=f;c<h;c++)d[c][o]=s[o][c]/x;for(c=f;c<h;c++){for(k=0,a=f;a<h;a++)k+=s[o][a]*d[a][c];for(a=f;a<h;a++)d[a][c]+=k*d[a][o]}}for(c=f;c<h;c++)d[o][c]=0,d[c][o]=0;d[o][o]=1,v=l[o],f=o}for(o=h-1;-1!=o;o+=-1){for(f=o+1,v=p[o],c=f;c<h;c++)s[o][c]=0;if(0!=v){for(x=s[o][o]*v,c=f;c<h;c++){for(k=0,a=f;a<m;a++)k+=s[a][o]*s[a][c];for(y=k/x,a=o;a<m;a++)s[a][c]+=y*s[a][o]}for(c=o;c<m;c++)s[c][o]=s[c][o]/v}else for(c=o;c<m;c++)s[c][o]=0;s[o][o]+=1}for(e*=b,a=h-1;-1!=a;a+=-1)for(var j=0;j<t;j++){var A=!1;for(f=a;-1!=f;f+=-1){if(Math.abs(l[f])<=e){A=!0;break}if(Math.abs(p[f-1])<=e)break}if(!A){u=0,k=1;var T=f-1;for(o=f;o<a+1;o++){if(y=k*l[o],l[o]=u*l[o],Math.abs(y)<=e)break;for(v=p[o],x=g(y,v),p[o]=x,u=v/x,k=-y/x,c=0;c<m;c++)w=s[c][T],M=s[c][o],s[c][T]=w*u+M*k,s[c][o]=-w*k+M*u}}if(M=p[a],f==a){if(M<0)for(p[a]=-M,c=0;c<h;c++)d[c][a]=-d[c][a];break}if(j>=t-1)throw"Error: no convergence.";for(b=p[f],w=p[a-1],v=l[a-1],x=l[a],y=((w-M)*(w+M)+(v-x)*(v+x))/(2*x*w),v=g(y,1),y=y<0?((b-M)*(b+M)+x*(w/(y-v)-x))/b:((b-M)*(b+M)+x*(w/(y+v)-x))/b,u=1,k=1,o=f+1;o<a+1;o++){for(v=l[o],w=p[o],x=k*v,v*=u,M=g(y,x),l[o-1]=M,u=y/M,k=x/M,y=b*u+v*k,v=-b*k+v*u,x=w*k,w*=u,c=0;c<h;c++)b=d[c][o-1],M=d[c][o],d[c][o-1]=b*u+M*k,d[c][o]=-b*k+M*u;for(M=g(y,x),p[o-1]=M,u=y/M,k=x/M,y=u*v+k*w,b=-k*v+u*w,c=0;c<m;c++)w=s[c][o-1],M=s[c][o],s[c][o-1]=w*u+M*k,s[c][o]=-w*k+M*u}l[f]=0,l[a]=y,p[a]=b}for(o=0;o<p.length;o++)p[o]<e&&(p[o]=0);for(o=0;o<h;o++)for(c=o-1;c>=0;c--)if(p[c]<p[o]){for(u=p[c],p[c]=p[o],p[o]=u,a=0;a<s.length;a++)n=s[a][o],s[a][o]=s[a][c],s[a][c]=n;for(a=0;a<d.length;a++)n=d[a][o],d[a][o]=d[a][c],d[a][c]=n;o=c}return{U:s,S:p,V:d}}}).call(this,__webpack_require__("c8ba"))}}]);
//# sourceMappingURL=layout.485ccbe0.js.map